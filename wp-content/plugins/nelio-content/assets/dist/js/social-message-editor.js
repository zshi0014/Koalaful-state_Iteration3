this.NelioContent=this.NelioContent||{},this.NelioContent.socialMessageEditor=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=163)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.wp.dataControls}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.NelioContent.utils}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t){!function(){e.exports=this.NelioContent.components}()},function(e,t){!function(){e.exports=this.React}()},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(34),i=n(35),o=n(29),a=n(36);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t){!function(){e.exports=this.NelioContent.date}()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=n(38);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},,function(e,t){!function(){e.exports=this.NelioContent.networks}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(39);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(31),i=n(26);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t){!function(){e.exports=this.wp.url}()},,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},,function(e,t,n){var r=n(27);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=c(n(11)),o=c(n(51)),a=c(n(54));function c(e){return e&&e.__esModule?e:{default:e}}var s=void 0;function l(e,t){var n,a,c,u,d,m,f,b,p=[],g={};for(m=0;m<e.length;m++)if("string"!==(d=e[m]).type){if(!t.hasOwnProperty(d.value)||void 0===t[d.value])throw new Error("Invalid interpolation, missing component node: `"+d.value+"`");if("object"!==r(t[d.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+d.value+"`","\n> "+s);if("componentClose"===d.type)throw new Error("Missing opening component token: `"+d.value+"`");if("componentOpen"===d.type){n=t[d.value],c=m;break}p.push(t[d.value])}else p.push(d.value);return n&&(u=function(e,t){var n,r,i=t[e],o=0;for(r=e+1;r<t.length;r++)if((n=t[r]).value===i.value){if("componentOpen"===n.type){o++;continue}if("componentClose"===n.type){if(0===o)return r;o--}}throw new Error("Missing closing component token `"+i.value+"`")}(c,e),f=l(e.slice(c+1,u),t),a=i.default.cloneElement(n,{},f),p.push(a),u<e.length-1&&(b=l(e.slice(u+1),t),p=p.concat(b))),1===p.length?p[0]:(p.forEach((function(e,t){e&&(g["interpolation-child-"+t]=e)})),(0,o.default)(g))}t.default=function(e){var t=e.mixedString,n=e.components,i=e.throwErrors;if(s=t,!n)return t;if("object"!==(void 0===n?"undefined":r(n))){if(i)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var o=(0,a.default)(t);try{return l(o,n)}catch(e){if(i)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},,,function(e,t,n){var r=n(27);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},,function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){var r=n(56),i=n(57);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[o+c]=a[c];return t||i(a)}},function(e,t){!function(){e.exports=this.NelioContent.data}()},,,,,,,,,function(e,t,n){"use strict";var r=n(11),i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=n(40),a=n(52),c=n(53),s="function"==typeof Symbol&&Symbol.iterator;function l(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function u(e,t,n,r){var o,c=typeof e;if("undefined"!==c&&"boolean"!==c||(e=null),null===e||"string"===c||"number"===c||"object"===c&&e.$$typeof===i)return n(r,e,""===t?"."+l(e,0):t),1;var d=0,m=""===t?".":t+":";if(Array.isArray(e))for(var f=0;f<e.length;f++)d+=u(o=e[f],m+l(o,f),n,r);else{var b=function(e){var t=e&&(s&&e[s]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(b){0;for(var p,g=b.call(e),O=0;!(p=g.next()).done;)d+=u(o=p.value,m+l(o,O++),n,r)}else if("object"===c){0;var v=""+e;a(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===v?"object with keys {"+Object.keys(e).join(", ")+"}":v,"")}}return d}var d=/\/+/g;function m(e){return(""+e).replace(d,"$&/")}var f,b,p=g,g=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},O=function(e){a(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function v(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function j(e,t,n){var i,a,c=e.result,s=e.keyPrefix,l=e.func,u=e.context,d=l.call(u,t,e.count++);Array.isArray(d)?h(d,c,n,o.thatReturnsArgument):null!=d&&(r.isValidElement(d)&&(i=d,a=s+(!d.key||t&&t.key===d.key?"":m(d.key)+"/")+n,d=r.cloneElement(i,{key:a},void 0!==i.props?i.props.children:void 0)),c.push(d))}function h(e,t,n,r,i){var o="";null!=n&&(o=m(n)+"/");var a=v.getPooled(t,o,r,i);!function(e,t,n){null==e||u(e,"",t,n)}(e,j,a),v.release(a)}v.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f=function(e,t,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)},(b=v).instancePool=[],b.getPooled=f||p,b.poolSize||(b.poolSize=10),b.release=O;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return c(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return c(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;a(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)h(e[n],t,n,o.thatReturnsArgument);return t}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,c],u=0;(s=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";var r=n(40);e.exports=r},function(e,t,n){"use strict";function r(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(r)}},,function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},,,,function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},,,function(e,t,n){var r,i,o,a,c;r=n(132),i=n(61).utf8,o=n(133),a=n(61).bin,(c=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),s=8*e.length,l=1732584193,u=-271733879,d=-1732584194,m=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[s>>>5]|=128<<s%32,n[14+(s+64>>>9<<4)]=s;var b=c._ff,p=c._gg,g=c._hh,O=c._ii;for(f=0;f<n.length;f+=16){var v=l,j=u,h=d,_=m;l=b(l,u,d,m,n[f+0],7,-680876936),m=b(m,l,u,d,n[f+1],12,-389564586),d=b(d,m,l,u,n[f+2],17,606105819),u=b(u,d,m,l,n[f+3],22,-1044525330),l=b(l,u,d,m,n[f+4],7,-176418897),m=b(m,l,u,d,n[f+5],12,1200080426),d=b(d,m,l,u,n[f+6],17,-1473231341),u=b(u,d,m,l,n[f+7],22,-45705983),l=b(l,u,d,m,n[f+8],7,1770035416),m=b(m,l,u,d,n[f+9],12,-1958414417),d=b(d,m,l,u,n[f+10],17,-42063),u=b(u,d,m,l,n[f+11],22,-1990404162),l=b(l,u,d,m,n[f+12],7,1804603682),m=b(m,l,u,d,n[f+13],12,-40341101),d=b(d,m,l,u,n[f+14],17,-1502002290),l=p(l,u=b(u,d,m,l,n[f+15],22,1236535329),d,m,n[f+1],5,-165796510),m=p(m,l,u,d,n[f+6],9,-1069501632),d=p(d,m,l,u,n[f+11],14,643717713),u=p(u,d,m,l,n[f+0],20,-373897302),l=p(l,u,d,m,n[f+5],5,-701558691),m=p(m,l,u,d,n[f+10],9,38016083),d=p(d,m,l,u,n[f+15],14,-660478335),u=p(u,d,m,l,n[f+4],20,-405537848),l=p(l,u,d,m,n[f+9],5,568446438),m=p(m,l,u,d,n[f+14],9,-1019803690),d=p(d,m,l,u,n[f+3],14,-187363961),u=p(u,d,m,l,n[f+8],20,1163531501),l=p(l,u,d,m,n[f+13],5,-1444681467),m=p(m,l,u,d,n[f+2],9,-51403784),d=p(d,m,l,u,n[f+7],14,1735328473),l=g(l,u=p(u,d,m,l,n[f+12],20,-1926607734),d,m,n[f+5],4,-378558),m=g(m,l,u,d,n[f+8],11,-2022574463),d=g(d,m,l,u,n[f+11],16,1839030562),u=g(u,d,m,l,n[f+14],23,-35309556),l=g(l,u,d,m,n[f+1],4,-1530992060),m=g(m,l,u,d,n[f+4],11,1272893353),d=g(d,m,l,u,n[f+7],16,-155497632),u=g(u,d,m,l,n[f+10],23,-1094730640),l=g(l,u,d,m,n[f+13],4,681279174),m=g(m,l,u,d,n[f+0],11,-358537222),d=g(d,m,l,u,n[f+3],16,-722521979),u=g(u,d,m,l,n[f+6],23,76029189),l=g(l,u,d,m,n[f+9],4,-640364487),m=g(m,l,u,d,n[f+12],11,-421815835),d=g(d,m,l,u,n[f+15],16,530742520),l=O(l,u=g(u,d,m,l,n[f+2],23,-995338651),d,m,n[f+0],6,-198630844),m=O(m,l,u,d,n[f+7],10,1126891415),d=O(d,m,l,u,n[f+14],15,-1416354905),u=O(u,d,m,l,n[f+5],21,-57434055),l=O(l,u,d,m,n[f+12],6,1700485571),m=O(m,l,u,d,n[f+3],10,-1894986606),d=O(d,m,l,u,n[f+10],15,-1051523),u=O(u,d,m,l,n[f+1],21,-2054922799),l=O(l,u,d,m,n[f+8],6,1873313359),m=O(m,l,u,d,n[f+15],10,-30611744),d=O(d,m,l,u,n[f+6],15,-1560198380),u=O(u,d,m,l,n[f+13],21,1309151649),l=O(l,u,d,m,n[f+4],6,-145523070),m=O(m,l,u,d,n[f+11],10,-1120210379),d=O(d,m,l,u,n[f+2],15,718787259),u=O(u,d,m,l,n[f+9],21,-343485551),l=l+v>>>0,u=u+j>>>0,d=d+h>>>0,m=m+_>>>0}return r.endian([l,u,d,m])})._ff=function(e,t,n,r,i,o,a){var c=e+(t&n|~t&r)+(i>>>0)+a;return(c<<o|c>>>32-o)+t},c._gg=function(e,t,n,r,i,o,a){var c=e+(t&r|n&~r)+(i>>>0)+a;return(c<<o|c>>>32-o)+t},c._hh=function(e,t,n,r,i,o,a){var c=e+(t^n^r)+(i>>>0)+a;return(c<<o|c>>>32-o)+t},c._ii=function(e,t,n,r,i,o,a){var c=e+(n^(t|~r))+(i>>>0)+a;return(c<<o|c>>>32-o)+t},c._blocksize=16,c._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(c(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},function(e,t){!function(){e.exports=this.wp.mediaUtils}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?t.push(n.charAt(i>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getId",(function(){return P})),n.d(r,"getStatus",(function(){return k})),n.d(r,"isFreePreview",(function(){return T})),n.d(r,"getFailureDescription",(function(){return N})),n.d(r,"getDateType",(function(){return I})),n.d(r,"getDateValue",(function(){return A})),n.d(r,"getTimeType",(function(){return C})),n.d(r,"getTimeValue",(function(){return V})),n.d(r,"getImageId",(function(){return R})),n.d(r,"getImageUrl",(function(){return D})),n.d(r,"hasImage",(function(){return L})),n.d(r,"getPost",(function(){return M})),n.d(r,"getPostId",(function(){return B})),n.d(r,"getPostType",(function(){return F})),n.d(r,"getSelectedSocialProfiles",(function(){return U})),n.d(r,"getSelectedSocialProfilesInNetwork",(function(){return G})),n.d(r,"getSelectedSocialNetworks",(function(){return q})),n.d(r,"getSelectedTargetsInProfile",(function(){return H})),n.d(r,"getText",(function(){return W})),n.d(r,"getActiveSocialProfile",(function(){return $})),n.d(r,"isPreviewVisible",(function(){return Y})),n.d(r,"isLoadingRelatedPost",(function(){return z})),n.d(r,"didRelatedPostLoadingFail",(function(){return K})),n.d(r,"getUnloadableRelatedPostId",(function(){return Q})),n.d(r,"isSaving",(function(){return X})),n.d(r,"getActiveSocialNetwork",(function(){return Z})),n.d(r,"getValidationError",(function(){return J})),n.d(r,"isNewMessage",(function(){return ee})),n.d(r,"isPostSearcherAvailable",(function(){return te})),n.d(r,"isPostSearcherVisible",(function(){return ne})),n.d(r,"isRelatedPostVisible",(function(){return re})),n.d(r,"getDisabledProfileIds",(function(){return ie})),n.d(r,"isEditorVisible",(function(){return oe})),n.d(r,"getProfileIdInTargetSelector",(function(){return ae})),n.d(r,"getSelectedTargetsInTargetSelector",(function(){return ce})),n.d(r,"isTargetSelectedInTargetSelector",(function(){return se})),n.d(r,"isTargetSelectorVisible",(function(){return le}));var i={};n.r(i),n.d(i,"setDateTypeAndValue",(function(){return Oe})),n.d(i,"setTimeTypeAndValue",(function(){return ve})),n.d(i,"resetDateTime",(function(){return je})),n.d(i,"resetTime",(function(){return he})),n.d(i,"makeEditable",(function(){return ye})),n.d(i,"setImage",(function(){return Ee})),n.d(i,"removeImage",(function(){return we})),n.d(i,"setPost",(function(){return xe})),n.d(i,"selectSingleSocialProfile",(function(){return ke})),n.d(i,"selectSocialProfile",(function(){return Te})),n.d(i,"selectSingleTarget",(function(){return Ae})),n.d(i,"setSelectedTargetsInProfile",(function(){return Ce})),n.d(i,"setText",(function(){return Ve})),n.d(i,"showPreview",(function(){return Re})),n.d(i,"markAsSaving",(function(){return ze})),n.d(i,"sendNow",(function(){return Ke})),n.d(i,"saveAndClose",(function(){return Qe})),n.d(i,"markRelatedPostAsLoaded",(function(){return Je})),n.d(i,"addErrorOnRelatedPostLoading",(function(){return et})),n.d(i,"openNewSocialMessageEditor",(function(){return st})),n.d(i,"openSocialMessageEditor",(function(){return lt})),n.d(i,"_openSocialMessageEditor",(function(){return ut})),n.d(i,"close",(function(){return dt})),n.d(i,"setActiveSocialNetwork",(function(){return mt})),n.d(i,"setValidationError",(function(){return ft})),n.d(i,"enablePostSearcher",(function(){return bt})),n.d(i,"disablePostSearcher",(function(){return pt})),n.d(i,"openTargetSelector",(function(){return jt})),n.d(i,"closeTargetSelector",(function(){return ht})),n.d(i,"selectTargetInTargetSelector",(function(){return _t}));var o=n(0),a=n(6),c=n(2),s=n(4),l=(n(42),n(13)),u=n.n(l),d=n(8),m=n.n(d),f=n(3),b=n(19),p=n(7);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=e.isNewMessage,n=e.message,r=e.post,i={id:t?void 0:n.id,dateType:n.dateType,dateValue:_(n.dateValue),timeType:n.timeType,timeValue:_(n.timeValue),imageId:n.imageId,imageUrl:n.image,post:r,profileIds:{all:[],byNetwork:{}},targetNamesByProfile:{},text:t&&r?h(n.text):n.text,status:n.status,isFreePreview:n.isFreePreview||!1,failureDescription:n.failureDescription};return n.profileId&&(i.profileIds.all=[n.profileId],i.profileIds.byNetwork[n.network]=[n.profileId]),n.targetName&&Object(b.getMultiTargetNetworks)().includes(n.network)&&(i.targetNamesByProfile[n.profileId]=[n.targetName]),i}function j(e,t){var n=t.selectedTargetNames,r=t.profileId,i=t.network,o=e.profileIds.all.includes(r)?e.profileIds.all:[].concat(u()(e.profileIds.all),[r]),a=e.profileIds.byNetwork[i]||[],c=a.includes(r)?a:[].concat(u()(a),[r]),s=!Object(p.isEmpty)(n);return O(O({},e),{},{profileIds:{all:s?o:Object(f.without)(o,r),byNetwork:O(O({},e.profileIds.byNetwork),{},m()({},i,s?c:Object(f.without)(c,r)))},targetNamesByProfile:O(O({},e.targetNamesByProfile),{},m()({},r,t.selectedTargetNames))})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===e?"{title} {permalink}":-1!==e.indexOf("{permalink}")?e:"".concat(e," {permalink}")}function _(e){return void 0===e?e:"".concat(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=Object(c.combineReducers)({attributes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_EDITOR":return v(t);case"MAKE_EDITABLE":return Object(f.omit)(e,"status","failureDescription");case"SET_DATE":return O(O({},e),{},{dateType:t.dateType,dateValue:_(t.dateValue),timeType:t.timeType,timeValue:_(t.timeValue)});case"SET_TIME":return O(O({},e),{},{timeType:t.timeType,timeValue:_(t.timeValue)});case"SET_IMAGE":return O(O({},e),{},{imageId:t.imageId,imageUrl:t.imageUrl});case"REMOVE_IMAGE":return O(O({},e),{},{imageId:void 0,imageUrl:void 0});case"SET_POST":return t.post?O(O({},e),{},{post:t.post,text:h(e.text)}):Object(f.omit)(e,"post");case"SELECT_SINGLE_SOCIAL_PROFILE":return O(O({},e),{},{profileIds:{all:[t.profileId],byNetwork:m()({},t.network,[t.profileId])},targetNamesByProfile:{}});case"SELECT_SOCIAL_PROFILE":var n=e.profileIds.byNetwork[t.network]||[];return O(O({},e),{},{profileIds:{all:t.isSelected?[].concat(u()(e.profileIds.all),[t.profileId]):Object(f.without)(e.profileIds.all,t.profileId),byNetwork:O(O({},e.profileIds.byNetwork),{},m()({},t.network,t.isSelected?[].concat(u()(n),[t.profileId]):Object(f.without)(n,t.profileId)))}});case"SELECT_SINGLE_TARGET":return O(O({},e),{},{profileIds:{all:[t.profileId],byNetwork:m()({},t.network,[t.profileId])},targetNamesByProfile:m()({},t.profileId,t.targetName)});case"SET_SELECTED_TARGETS_IN_PROFILE":return j(e,t);case"SET_TEXT":return O(O({},e),{},{text:t.text||""})}return e},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_EDITOR":return E(E({},e),{},{error:void 0,activeSocialNetwork:t.activeSocialNetwork,disabledProfileIds:t.disabledProfileIds||[],isNewMessage:t.isNewMessage,isSaving:!1,isEditorVisible:!0,isLoadingRelatedPost:!!t.isLoadingRelatedPost,isPostSearcherAvailable:!!t.isPostSearcherAvailable,isPostSearcherVisible:!1,isPreviewVisible:!!t.isPreviewVisible,isRelatedPostVisible:!!t.isRelatedPostVisible,unloadableRelatedPostId:0});case"CLOSE_EDITOR":return E(E({},e),{},{isEditorVisible:!1});case"MARK_RELATED_POST_AS_LOADED":return E(E({},e),{},{isLoadingRelatedPost:!1});case"ADD_ERROR_ON_RELATED_POST_LOADING":return E(E({},e),{},{isLoadingRelatedPost:!1,unloadableRelatedPostId:t.postId});case"SET_ACTIVE_SOCIAL_NETWORK":return E(E({},e),{},{activeSocialNetwork:t.network});case"SET_VALIDATION_ERROR":return E(E({},e),{},{error:t.error});case"MARK_AS_SAVING":return E(E({},e),{},{isSaving:!!t.isSaving});case"ENABLE_POST_SEARCHER":return E(E({},e),{},{isPostSearcherVisible:!0});case"DISABLE_POST_SEARCHER":return E(E({},e),{},{isPostSearcherAvailable:!1,isPostSearcherVisible:!1});case"SHOW_PREVIEW":return E(E({},e),{},{isPreviewVisible:t.isVisible});case"SELECT_SINGLE_SOCIAL_PROFILE":return E(E({},e),{},{activeSocialNetwork:t.network})}return e},targetSelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TARGET_SELECTOR":return x(x({},e),{},{isVisible:!0,profileId:t.profileId,selectedTargetNames:t.selectedTargetNames});case"CLOSE_TARGET_SELECTOR":return{};case"SELECT_TARGET_IN_TARGET_SELECTOR":return x(x({},e),{},{selectedTargetNames:t.isSelected?[].concat(u()(e.selectedTargetNames),[t.targetName]):Object(f.without)(e.selectedTargetNames,t.targetName)})}return e}});function P(e){return e.attributes.id}function k(e){return e.attributes.status}function T(e){return!!e.attributes.isFreePreview}function N(e){return e.attributes.failureDescription}function I(e){return e.attributes.dateType}function A(e){return e.attributes.dateValue}function C(e){return e.attributes.timeType}function V(e){return e.attributes.timeValue}function R(e){return e.attributes.imageId}function D(e){return e.attributes.imageUrl}function L(e){return!!e.attributes.imageUrl}function M(e){return e.attributes.post}function B(e){var t=e.attributes.post;if(t)return t.id}function F(e){var t=e.attributes.post;if(t)return t.type}function U(e){return e.attributes.profileIds.all||[]}function G(e,t){return e.attributes.profileIds.byNetwork[t]||[]}function q(e){return Object(f.keys)(e.attributes.profileIds.byNetwork).filter((function(t){return!Object(p.isEmpty)(e.attributes.profileIds.byNetwork[t])}))}function H(e,t){return e.attributes.targetNamesByProfile[t]||[]}function W(e){return e.attributes.text||""}function $(e){var t=e.status.activeSocialNetwork,n=e.attributes.profileIds.byNetwork[t];return Object(f.last)(n)}function Y(e){return!!e.status.isPreviewVisible}function z(e){return!!e.status.isLoadingRelatedPost}function K(e){return!!e.status.unloadableRelatedPostId}function Q(e){return e.status.unloadableRelatedPostId}function X(e){return!!e.status.isSaving}function Z(e){return e.status.activeSocialNetwork}function J(e){return e.status.error}function ee(e){return e.status.isNewMessage}function te(e){return!!e.status.isPostSearcherAvailable}function ne(e){return!!e.status.isPostSearcherAvailable&&!!e.status.isPostSearcherVisible}function re(e){return!ne(e)&&!!e.status.isRelatedPostVisible}function ie(e){return e.status.disabledProfileIds}function oe(e){return e.status.isEditorVisible}function ae(e){return e.targetSelector.profileId}function ce(e){return e.targetSelector.selectedTargetNames}function se(e,t){return e.targetSelector.selectedTargetNames.includes(t)}function le(e){return!!e.targetSelector.isVisible}var ue=n(9),de=n.n(ue),me=de.a.mark(Oe),fe=de.a.mark(je),be=de.a.mark(he);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t){var n,r,i;return de.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n="nelio-content/social-message-editor",o.next=3,Object(s.select)(n,"getDateType");case 3:return o.t0=o.sent,o.next=6,Object(s.select)(n,"getDateValue");case 6:return o.t1=o.sent,o.next=9,Object(s.select)(n,"getTimeType");case 9:return o.t2=o.sent,o.next=12,Object(s.select)(n,"getTimeValue");case 12:return o.t3=o.sent,r={dateType:o.t0,dateValue:o.t1,timeType:o.t2,timeValue:o.t3},i=ge(ge({},r),{},{dateType:e,dateValue:t}),o.abrupt("return",ge({type:"SET_DATE"},_e(r,i)));case 16:case"end":return o.stop()}}),me)}function ve(e,t){return{type:"SET_TIME",timeType:e,timeValue:t}}function je(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"nelio-content/social-message-editor",e.next=3,Object(s.dispatch)("nelio-content/social-message-editor","setDateTypeAndValue","predefined-offset","0");case 3:case"end":return e.stop()}}),fe)}function he(){var e,t,n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e="nelio-content/social-message-editor",r.next=3,Object(s.select)(e,"getDateType");case 3:return t=r.sent,r.next=6,Object(s.select)(e,"getDateValue");case 6:return n=r.sent,r.abrupt("return","predefined-offset"===t&&"0"===n?ve("predefined-offset","0"):ve("time-interval","morning"));case 8:case"end":return r.stop()}}),be)}function _e(e,t){var n="predefined-offset"===t.dateType&&"0"===t.dateValue;switch(e.timeType){case"exact":return t;case"positive-hours":return ge(ge({},t),{},{timeType:n?e.timeType:"time-interval",timeValue:n?e.timeValue:"morning"});case"time-interval":return ge(ge({},t),{},{timeType:n?"predefined-offset":e.timeType,timeValue:n?"0":e.timeValue});case"predefined-offset":default:return ge(ge({},t),{},{timeType:n?e.timeType:"time-interval",timeValue:n?e.timeValue:"morning"})}}function ye(){return{type:"MAKE_EDITABLE"}}function Ee(e,t){return{type:"SET_IMAGE",imageId:e,imageUrl:t}}function we(){return{type:"REMOVE_IMAGE"}}function xe(e){return{type:"SET_POST",post:e}}var Se=de.a.mark(ke),Pe=de.a.mark(Te);function ke(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.select)("nelio-content/data","getSocialProfile",e);case 2:if(t=n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.abrupt("return",{type:"SELECT_SINGLE_SOCIAL_PROFILE",profileId:e,network:t.network});case 6:case"end":return n.stop()}}),Se)}function Te(e,t){var n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.select)("nelio-content/data","getSocialProfile",e);case 2:if(n=r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.abrupt("return",{type:"SELECT_SOCIAL_PROFILE",profileId:e,network:n.network,isSelected:t});case 6:case"end":return r.stop()}}),Pe)}var Ne=de.a.mark(Ae),Ie=de.a.mark(Ce);function Ae(e,t){var n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.select)("nelio-content/data","getSocialProfile",e);case 2:if(n=r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.abrupt("return",{type:"SELECT_SINGLE_TARGET",profileId:e,network:n.network,targetName:t});case 6:case"end":return r.stop()}}),Ne)}function Ce(e,t){var n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.select)("nelio-content/data","getSocialProfile",e);case 2:if(n=r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.abrupt("return",{type:"SET_SELECTED_TARGETS_IN_PROFILE",profileId:e,network:n.network,selectedTargetNames:t});case 6:case"end":return r.stop()}}),Ie)}function Ve(e){return{type:"SET_TEXT",text:e}}function Re(e){return Object(p.setValue)("isSocialMessagePreviewVisible",e),{type:"SHOW_PREVIEW",isVisible:e}}var De=n(17),Le=n.n(De),Me=n(41),Be=n.n(Me);function Fe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ge=de.a.mark(Ke),qe=de.a.mark(Qe),He=de.a.mark(Xe),We=de.a.mark(Ze);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e){return{type:"MARK_AS_SAVING",isSaving:e}}function Ke(){var e,t,n,r,i;return de.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e="nelio-content/social-message-editor",o.next=3,Object(s.select)(e,"getStatus");case 3:if("error"===o.sent){o.next=6;break}return o.abrupt("return");case 6:return o.next=8,Object(s.select)(e,"isSaving");case 8:if(!o.sent){o.next=11;break}return o.abrupt("return");case 11:return o.next=13,Object(s.dispatch)(e,"markAsSaving",!0);case 13:return o.prev=13,o.next=16,Object(s.select)("nelio-content/data","getSiteId");case 16:return t=o.sent,o.next=19,Object(s.select)("nelio-content/data","getAuthenticationToken");case 19:return n=o.sent,o.next=22,Object(s.select)(e,"getId");case 22:return r=o.sent,o.next=25,Object(s.apiFetch)({url:"https://api.neliocontent.com/v1/site/".concat(t,"/social/").concat(r,"/retry"),method:"PUT",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(n)}});case 25:return i=o.sent,o.next=28,Object(s.dispatch)("nelio-content/data","receiveSocialMessages",Ye(Ye({},i),{},{status:"publish"}));case 28:o.next=32;break;case 30:o.prev=30,o.t0=o.catch(13);case 32:return o.next=34,Object(s.dispatch)(e,"markAsSaving",!1);case 34:return o.next=36,Object(s.dispatch)(e,"close");case 36:case"end":return o.stop()}}),Ge,null,[[13,30]])}function Qe(){var e,t,n,r,i,o,a,c,l,u,d,m,f;return de.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return e="nelio-content/social-message-editor",b.next=3,Object(s.select)(e,"isSaving");case 3:if(!b.sent){b.next=6;break}return b.abrupt("return");case 6:return b.next=8,Object(s.dispatch)(e,"markAsSaving",!0);case 8:return b.prev=8,b.next=11,Object(s.select)(e,"isNewMessage");case 11:return t=b.sent,b.next=14,Xe();case 14:return n=b.sent,r=n.messageType,i=Le()(n,["messageType"]),o=Ye(Ye({},i),{},{type:r}),b.next=20,Object(s.select)("nelio-content/data","getSiteId");case 20:return a=b.sent,b.next=23,Object(s.select)("nelio-content/data","getAuthenticationToken");case 23:return c=b.sent,l=t?"POST":"PUT",u=t?"https://api.neliocontent.com/v1/site/".concat(a,"/social"):"https://api.neliocontent.com/v1/site/".concat(a,"/social/").concat(o.id),b.next=28,Ze();case 28:return d=b.sent,m=t?Ye(Ye({},o),{},{slots:d}):Ye(Ye(Ye({},o),d[0]),{},{id:o.id}),b.next=32,Object(s.apiFetch)({url:u,method:l,credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(c)},data:m});case 32:return f=b.sent,b.next=35,Object(s.dispatch)("nelio-content/data","receiveSocialMessages",f);case 35:b.next=40;break;case 37:b.prev=37,b.t0=b.catch(8),console.error(b.t0);case 40:return b.next=42,Object(s.dispatch)(e,"markAsSaving",!1);case 42:return b.next=44,Object(s.dispatch)(e,"close");case 44:case"end":return b.stop()}}),qe,null,[[8,37]])}function Xe(){var e,t,n,r,i,o,a,c,l,u,d,m,f,b,g;return de.a.wrap((function(O){for(;;)switch(O.prev=O.next){case 0:return e="nelio-content/social-message-editor",O.next=3,Object(s.select)(e,"getId");case 3:return t=O.sent,O.next=6,Object(s.select)(e,"getPost");case 6:return n=O.sent,O.next=9,Object(s.select)(e,"getDateType");case 9:return r=O.sent,O.next=12,Object(s.select)(e,"getDateValue");case 12:return i=O.sent,O.next=15,Object(s.select)(e,"getTimeType");case 15:return o=O.sent,O.next=18,Object(s.select)(e,"getTimeValue");case 18:return a=O.sent,O.next=21,Object(s.select)(e,"getText");case 21:return c=O.sent,O.next=24,Object(s.select)(e,"getImageUrl");case 24:return l=O.sent,O.next=27,Object(s.select)(e,"getImageId");case 27:return u=O.sent,O.next=30,Object(s.select)("nelio-content/data","getSiteTimezone");case 30:return d=O.sent,m=Object(p.getBaseDatetime)(n,r),f=Object(p.getSocialMessageSchedule)({baseDatetime:m,dateType:r,dateValue:i,timeType:o,timeValue:a}),b=Object(p.computeSocialMessageText)(n,c),g=Object(p.getSocialMessageType)(n,l),O.abrupt("return",{id:t,baseDatetime:m,dateType:r,dateValue:i,image:l,imageId:u,messageType:g,postId:n?n.id:void 0,postType:n?n.type:void 0,postAuthor:n?n.author:void 0,schedule:f,source:"manual",text:c,textComputed:b,timeType:o,timeValue:a,timezone:d});case 36:case"end":return O.stop()}}),He)}function Ze(){var e,t,n,r,i,o;return de.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="nelio-content/social-message-editor",a.next=3,Object(s.select)(e,"getSelectedSocialProfiles");case 3:t=a.sent,n=[],r=Fe(t),a.prev=6,o=de.a.mark((function t(){var r,o,a;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.value,t.next=3,Object(s.select)("nelio-content/data","getSocialProfile",r);case 3:if(o=t.sent){t.next=6;break}return t.abrupt("return","continue");case 6:if(c=void 0,c=o.network,Object(b.getMultiTargetNetworks)().includes(c)){t.next=9;break}return n.push({id:Be()(),profileId:r,targetName:"default",network:o.network}),t.abrupt("return","continue");case 9:return t.next=11,Object(s.select)(e,"getSelectedTargetsInProfile",r);case 11:if(a=t.sent,!Object(p.isEmpty)(a)){t.next=14;break}return t.abrupt("return","continue");case 14:return t.next=16,Object(s.select)("nelio-content/data","getTargetsInProfile",r);case 16:t.sent.filter((function(e){var t=e.name;return a.includes(t)})).forEach((function(e){return n.push({id:Be()(),network:o.network,profileId:r,targetDisplayName:e.displayName,targetName:e.name})}));case 18:case"end":return t.stop()}var c}),t)})),r.s();case 9:if((i=r.n()).done){a.next=16;break}return a.delegateYield(o(),"t0",11);case 11:if("continue"!==a.t0){a.next=14;break}return a.abrupt("continue",14);case 14:a.next=9;break;case 16:a.next=21;break;case 18:a.prev=18,a.t1=a.catch(6),r.e(a.t1);case 21:return a.prev=21,r.f(),a.finish(21);case 24:if(!Object(p.isEmpty)(n)){a.next=26;break}throw new Error("Unable to create slots!");case 26:return a.abrupt("return",n);case 27:case"end":return a.stop()}}),We,null,[[6,18,21,24]])}function Je(){return{type:"MARK_RELATED_POST_AS_LOADED"}}function et(e){return{type:"ADD_ERROR_ON_RELATED_POST_LOADING",postId:e}}var tt=de.a.mark(st),nt=de.a.mark(lt),rt=de.a.mark(ut),it=de.a.mark(gt),ot=de.a.mark(Ot);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t,n,r,i,o,a,c,l,u=arguments;return de.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:{},n=u.length>2&&void 0!==u[2]?u[2]:[],d.next=4,Ot(n);case 4:if(!d.sent){d.next=6;break}return d.abrupt("return");case 6:return d.next=8,gt(n);case 8:return 1===(r=d.sent).length&&(i=r[0],o=i.id,a=i.network,Object(b.getMultiTargetNetworks)().includes(a)||(t=ct(ct({},t),{},{profileId:o,network:a}))),d.next=12,Object(s.select)("nelio-content/data","getAvailableSocialNetworks");case 12:return c=d.sent,l=Object(f.intersection)(c,Object(f.map)(r,"network")),d.abrupt("return",{type:"OPEN_EDITOR",activeSocialNetwork:l[0],disabledProfileIds:n,isNewMessage:!0,isPostSearcherAvailable:!e,isPreviewVisible:Object(p.getValue)("isSocialMessagePreviewVisible",!1),message:ct(ct({},Object(p.createSocialMessage)()),t),post:e||void 0});case 15:case"end":return d.stop()}}),tt)}function lt(e,t){var n,r,i,o,a,c,l=arguments;return de.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:{},r="nelio-content/social-message-editor",i=n.showRelatedPost,o=void 0===i||i,u.next=5,Object(s.dispatch)(r,"_openSocialMessageEditor",t,o);case 5:if(!e){u.next=11;break}return u.next=8,Object(s.dispatch)(r,"setPost",e);case 8:return u.next=10,Object(s.dispatch)(r,"markRelatedPostAsLoaded");case 10:return u.abrupt("return");case 11:if(a=t.postId){u.next=16;break}return u.next=15,Object(s.dispatch)(r,"markRelatedPostAsLoaded");case 15:return u.abrupt("return");case 16:return u.next=18,Object(s.select)("nelio-content/data","getPost",a);case 18:if(c=u.sent){u.next=23;break}return u.next=22,Object(s.dispatch)(r,"addErrorOnRelatedPostLoading",a);case 22:return u.abrupt("return");case 23:return u.next=25,Object(s.dispatch)(r,"setPost",c);case 25:return u.next=27,Object(s.dispatch)(r,"markRelatedPostAsLoaded");case 27:case"end":return u.stop()}}),nt)}function ut(e,t){return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{type:"OPEN_EDITOR",activeSocialNetwork:e.network,isLoadingRelatedPost:!0,isNewMessage:!1,isRelatedPostVisible:t,message:ct({},e),isPreviewVisible:Object(p.getValue)("isSocialMessagePreviewVisible",!1)});case 1:case"end":return n.stop()}}),rt)}function dt(){return{type:"CLOSE_EDITOR"}}function mt(e){return{type:"SET_ACTIVE_SOCIAL_NETWORK",network:e}}function ft(e){return{type:"SET_VALIDATION_ERROR",error:e}}function bt(){return{type:"ENABLE_POST_SEARCHER"}}function pt(){return{type:"DISABLE_POST_SEARCHER"}}function gt(e){var t,n,r;return de.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(s.select)("nelio-content/data","getSocialProfiles");case 2:return t=i.sent,i.next=5,Object(s.select)("nelio-content/data","isSubscribed");case 5:return n=i.sent,r=function(t){var r=t.id;return n||!e.includes(r)},i.abrupt("return",Object(f.filter)(t,r));case 8:case"end":return i.stop()}}),it)}function Ot(e){var t,n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.select)("nelio-content/data","getSocialProfiles");case 2:if(t=r.sent,!Object(p.isEmpty)(t)){r.next=5;break}return r.abrupt("return",!1);case 5:return r.next=7,gt(e);case 7:return n=r.sent,r.abrupt("return",Object(p.isEmpty)(n));case 9:case"end":return r.stop()}}),ot)}var vt=de.a.mark(jt);function jt(e){var t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.select)("nelio-content/data","getSocialProfile",e);case 2:if(n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,Object(s.select)("nelio-content/social-message-editor","getSelectedTargetsInProfile",e);case 7:return t=n.sent,n.abrupt("return",{type:"OPEN_TARGET_SELECTOR",profileId:e,selectedTargetNames:t});case 9:case"end":return n.stop()}}),vt)}function ht(){return{type:"CLOSE_TARGET_SELECTOR"}}function _t(e,t){return{type:"SELECT_TARGET_IN_TARGET_SELECTOR",targetName:e,isSelected:t}}Object(c.registerStore)("nelio-content/social-message-editor",{reducer:S,controls:s.controls,actions:i,selectors:r});var yt=n(5),Et=n(1),wt=(n(122),Object(c.withSelect)((function(e){return{settingsUrl:(0,e("nelio-content/data").getAdminUrl)("admin.php",{page:"nelio-content-settings",tab:"social-profiles"})}}))),xt=Object(c.withDispatch)((function(e){return{close:e("nelio-content/social-message-editor").close}})),St=Object(a.compose)(wt,xt)((function(e){var t=e.close,n=e.settingsUrl;return Object(o.createElement)(yt.Modal,{className:"nelio-content-connect-profile-warning",title:Object(Et._x)("Social Profiles","text","nelio-content"),onRequestClose:t},Object(o.createElement)("div",{className:"nelio-content-connect-profile-warning__content"},Object(Et._x)("Nelio Content helps you to engage with your audience by sharing your WordPress content on social media. Connect one or more social profiles and then refresh this page to use them.","user","nelio-content")),Object(o.createElement)("div",{className:"nelio-content-connect-profile-warning__actions"},Object(o.createElement)(yt.ExternalLink,{className:"components-button is-primary",href:n,onClick:t},Object(Et._x)("Connect Profiles","command","nelio-content"))))})),Pt=n(10),kt=(n(123),Object(a.compose)(Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor"),n=t.getDateType,r=t.getDateValue;return{dateType:n(),dateValue:r(),isScheduleBasedOnPostPublication:At(e)}})),Object(c.withDispatch)((function(e){return{setDateTypeAndValue:e("nelio-content/social-message-editor").setDateTypeAndValue}})))),Tt=Object(a.compose)(Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor"),n=t.getTimeType,r=t.getTimeValue;return{timeType:n(),timeValue:r(),isScheduleBasedOnPostPublication:At(e)}})),Object(c.withDispatch)((function(e){return{setTimeTypeAndValue:e("nelio-content/social-message-editor").setTimeTypeAndValue}}))),Nt=Object(c.withDispatch)((function(e){return{resetDateTime:e("nelio-content/social-message-editor").resetDateTime}})),It=Object(c.withDispatch)((function(e){return{resetTime:e("nelio-content/social-message-editor").resetTime}}));function At(e){if("exact"===(0,e("nelio-content/social-message-editor").getDateType)())return!1;var t=(0,e("nelio-content/social-message-editor").getPost)();return!!t&&"publish"!==t.status}function Ct(e){var t=(0,e("nelio-content/social-message-editor").getPost)()||{};return!Object(p.isEmpty)(t.imageSrc||t.images)}function Vt(e){var t=(0,e("nelio-content/social-message-editor").getSelectedSocialNetworks)(),n=Object(b.getNetworksThatRequireImage)();return!Object(p.isEmpty)(Object(f.intersection)(t,n))}var Rt=Object(a.compose)(Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor").hasImage;return{canImageBeAutoSet:Ct(e),hasImage:t(),isImageRequired:Vt(e)}})),Object(c.withDispatch)((function(e){var t=e("nelio-content/social-message-editor");return{removeImage:t.removeImage,setImage:t.setImage}}))),Dt=Object(c.withSelect)((function(e){var t=e("nelio-content/data"),n=t.getAvailableSocialNetworks,r=t.isSubscribed,i=n();if(r())return{availableNetworks:i};var o=(0,e("nelio-content/data").getSocialProfiles)(),a=(0,e("nelio-content/social-message-editor").getDisabledProfileIds)(),c=Object(f.filter)(o,(function(e){var t=e.id;return!a.includes(t)})),s=Object(f.uniq)(Object(f.map)(c,"network"));return{availableNetworks:Object(f.intersection)(i,s)}})),Lt=Object(c.withSelect)((function(e){return{selectedNetworks:(0,e("nelio-content/social-message-editor").getSelectedSocialNetworks)()}})),Mt=Object(a.compose)(Object(c.withSelect)((function(e){return{activeNetwork:(0,e("nelio-content/social-message-editor").getActiveSocialNetwork)()}})),Object(c.withDispatch)((function(e){return{setActiveNetwork:e("nelio-content/social-message-editor").setActiveSocialNetwork}}))),Bt=Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor"),n=t.getActiveSocialNetwork,r=t.getPost,i=t.getSelectedSocialNetworks,o=t.getText,a=Object(p.computeSocialMessageText)(r(),o()).replace(/https?:\/\/[^\s]+/g,"aaaaaaaaaaaaaaaaaaaaa"),c=Object(f.filter)([n()].concat(u()(i()))),s=Object(f.min)(Object(f.map)(c,b.getCharLimitInNetwork));return{charCount:a.length,maxChars:s}})),Ft=Object(a.compose)(Object(c.withSelect)((function(e){return{text:(0,e("nelio-content/social-message-editor").getText)()}})),Object(c.withDispatch)((function(e){return{setText:e("nelio-content/social-message-editor").setText}}))),Ut=Object(a.compose)(Bt,Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor"),n=t.getDateValue,r=t.getImageId,i=t.getSelectedSocialProfiles,o=t.getSelectedTargetsInProfile,a=t.getTimeValue,c=i(),s=function(e){var t=e("nelio-content/social-message-editor").getSelectedSocialNetworks;return!Object(p.isEmpty)(Object(f.intersection)(t(),Object(b.getMultiTargetNetworks)()))}(e),l=s&&c.reduce((function(e,t){return e||!Object(p.isEmpty)(o(t))}),!1);return{canImageBeAutoSet:Ct(e),dateValue:n(),hasProfiles:!Object(p.isEmpty)(c),hasTargets:l,imageId:r(),isImageRequired:Vt(e),requiresTargetSelection:s,timeValue:a()}})),Object(c.withDispatch)((function(e){var t=e("nelio-content/social-message-editor").setValidationError;return{setError:t,clearErrors:function(){return t()}}}))),Gt=Object(a.compose)(Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor"),n=t.getUnloadableRelatedPostId,r=t.getValidationError,i=t.isEditorVisible,o=t.isLoadingRelatedPost,a=t.isNewMessage,c=t.isSaving,s=e("nelio-content/data").isSubscribed,l=n();return{didRelatedPostLoadingFail:!!l,error:r(),isEditorVisible:i(),isLoadingRelatedPost:o(),isNewMessage:a(),isSaving:c(),isSubscribed:s(),unloadableRelatedPostId:l}})),Object(c.withDispatch)((function(e){var t=e("nelio-content/social-message-editor");return{close:t.close,saveAndClose:t.saveAndClose}}))),qt=Object(c.withSelect)((function(e){var t=e("nelio-content/data").isSubscribed;if(!(0,e("nelio-content/social-message-editor").isNewMessage)())return{isSingleProfileLocked:!t(),usesMultipleProfileSelector:!1};var n=(0,e("nelio-content/data").getSocialProfiles)(),r=Object(f.filter)(n,{isMultiTarget:!0});return{isSingleProfileLocked:!1,usesMultipleProfileSelector:1<n.length||1===r.length}})),Ht=Object(c.withSelect)((function(e){return{post:(0,e("nelio-content/social-message-editor").getPost)()}})),Wt=Object(a.compose)(Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor"),n=t.getPostId,r=t.getPostType,i=t.isPostSearcherAvailable,o=t.isPostSearcherVisible,a=t.isRelatedPostVisible;return{isPostSearcherAvailable:i(),isPostSearcherVisible:o(),isRelatedPostVisible:a()&&!!n(),postId:n(),postType:r()}})),Object(c.withDispatch)((function(e,t,n){var r=(0,n.select)("nelio-content/data").getPost,i=e("nelio-content/social-message-editor"),o=i.enablePostSearcher,a=i.setPost;return{enablePostSearcher:o,setPost:function(e){var t=r(e);t&&a(t)}}}))),$t=Object(c.withSelect)((function(e){var t=(0,e("nelio-content/social-message-editor").getPostId)();if(!t)return{isLoadingPreviousMessages:!1,previousMessages:[]};var n=e("nelio-content/data"),r=n.getSocialMessagesRelatedToPost,i=n.isLoadingPostRelatedItems,o=[{text:"{title} {permalink}"}].concat(u()(Object(f.filter)(r(t),{status:"publish"})));return{isLoadingPreviousMessages:i(t),previousMessages:Object(f.uniq)(Object(f.map)(o,"text"))}})),Yt=(Object(c.withSelect)((function(e){return{activeProfile:(0,e("nelio-content/data").getSocialProfile)((0,e("nelio-content/social-message-editor").getActiveSocialProfile)())}})),Object(a.compose)(Object(c.withSelect)((function(e){return{isPreviewVisible:(0,e("nelio-content/social-message-editor").isPreviewVisible)()}})),Object(c.withDispatch)((function(e,t){var n=t.isPreviewVisible,r=e("nelio-content/social-message-editor").showPreview;return{togglePreviewVisibility:function(){return r(!n)}}})))),zt=Object(c.withDispatch)((function(e){var t=e("nelio-content/data").loadLink;return{loadSharedLinks:function(e){return Object(f.forEach)(e,t)}}})),Kt=Object(c.withSelect)((function(e){var t=e("nelio-content/data").getSocialProfile,n=e("nelio-content/social-message-editor"),r=n.getActiveSocialProfile,i=n.getDateType,o=n.getDateValue,a=n.getImageUrl,c=n.getPost,s=n.getText,l=n.getTimeType,u=n.getTimeValue,d=n.hasImage,m=r(),f=Object(p.getSocialMessageSchedule)({baseDatetime:Object(p.getBaseDatetime)(c(),i()),dateType:i(),dateValue:o(),timeType:l(),timeValue:u()});return{activeProfile:m&&t(m),dateValue:o(),image:a(),schedule:f,textComputed:Object(p.computeSocialMessageText)(c(),s()),timeValue:u(),type:d()?"image":"text"}})),Qt=function(e){return Object(c.withSelect)((function(t){var n=function(e,t){var n=t("nelio-content/social-message-editor"),r=n.getPost,i=n.getText,o=r(),a=Object(p.computeSocialMessageText)(o,i()),c=Object(p.getAllUrls)(a);return"first"===e?Object(f.head)(c):Object(f.last)(c)}(e,t);if(!n)return{sharedLinkStatus:void 0,sharedLink:{}};var r=(0,t("nelio-content/social-message-editor").getPost)();if(r&&n===r.permalink)return{sharedLinkStatus:"ready",sharedLink:Xt(r)};var i=t("nelio-content/data"),o=i.getSharedLinkStatus,a=i.getSharedLinkData;return{sharedLinkStatus:o(n)||"loading",sharedLink:a(n)}}))};var Xt=function(e){return{author:e.authorName,date:e.date,excerpt:e.excerpt,image:e.featuredImage||e.imageSrc,title:e.title}},Zt=Object(c.withSelect)((function(e){var t=e("nelio-content/data"),n=t.getSocialProfiles,r=t.isSubscribed,i=n();if(r())return{availableProfiles:i};var o=(0,e("nelio-content/social-message-editor").getDisabledProfileIds)();return{availableProfiles:Object(f.filter)(i,(function(e){var t=e.id;return!o.includes(t)}))}})),Jt=Object(a.compose)(Object(c.withSelect)((function(e){return{selectedProfiles:(0,e("nelio-content/social-message-editor").getSelectedSocialProfiles)()}})),Object(c.withDispatch)((function(e,t){var n=t.selectedProfiles,r=e("nelio-content/social-message-editor").selectSocialProfile;return{toggleProfile:function(e){return r(e,!n.includes(e))}}}))),en=Object(c.withDispatch)((function(e){return{openTargetSelector:e("nelio-content/social-message-editor").openTargetSelector}})),tn=Object(a.compose)(Object(c.withSelect)((function(e){if((0,e("nelio-content/social-message-editor").isTargetSelectorVisible)()){var t=e("nelio-content/data"),n=t.getSocialProfile,r=t.getTargetsInProfile,i=e("nelio-content/social-message-editor"),o=i.getProfileIdInTargetSelector,a=i.getSelectedTargetsInTargetSelector,c=o(),s=n(c),l=r(c);return{profileId:c,network:s.network,isLoading:!l,isVisible:!0,selectedTargetNames:a(),targets:l||[]}}})),Object(c.withDispatch)((function(e,t){var n=t.profileId,r=t.selectedTargetNames,i=e("nelio-content/social-message-editor"),o=i.closeTargetSelector,a=i.selectTargetInTargetSelector,c=i.setSelectedTargetsInProfile;return{close:o,selectTarget:a,saveSelection:function(){c(n,r),o()}}})),Object(a.ifCondition)((function(e){return!!e.isVisible}))),nn=(n(124),Gt((function(e){var t=e.close,n=e.error,r=e.isSaving,i=e.saveAndClose;return Object(o.createElement)("div",{className:"nelio-content-social-message-editor__actions"},Object(o.createElement)(yt.Button,{isSecondary:!0,disabled:r,onClick:t},Object(Et._x)("Cancel","command","nelio-content")),Object(o.createElement)(Pt.SaveButton,{isPrimary:!0,error:n,isSaving:r,onClick:i}))}))),rn=(n(125),n(14)),on=Nt((function(e){var t=e.disabled,n=e.resetDateTime;return Object(o.createElement)("div",{className:"nelio-content-social-message-editor__reset-date-button"},Object(o.createElement)(yt.Button,{isLink:!0,disabled:t,onClick:function(){return n()}},Object(Et._x)("Change","command","nelio-content")))})),an=Object(c.withSelect)((function(e){var t=e("nelio-content/data").getUtcNow;return{today:Object(rn.date)("Y-m-d",t())}}))((function(e){var t=e.disabled,n=e.dateValue,r=e.setDateTypeAndValue,i=e.today;return Object(o.createElement)(yt.BaseControl,{id:"nelio-content-social-message-editor__date-selector",label:Object(Et._x)("Date","text","nelio-content")},Object(o.createElement)("div",{className:"nelio-content-social-message-editor__date-selector"},Object(o.createElement)(Pt.DateInput,{disabled:t,value:n||"",min:i,onChange:function(e){return r("exact",e)}}),Object(o.createElement)(on,{disabled:t})))})),cn=n(30),sn=n.n(cn),ln=function(e){return e?Object(Et.sprintf)(Object(Et._x)("%s days after publication.","text","nelio-content"),"{{input/}}"):Object(Et.sprintf)(Object(Et._x)("In %s days.","text","nelio-content"),"{{input/}}")},un=function(e){var t=e.disabled,n=e.dateValue,r=e.setDateTypeAndValue,i=e.isBasedOnPublication;return Object(o.createElement)(yt.BaseControl,{id:"nelio-content-social-message-editor__date-selector",label:Object(Et._x)("Date","text","nelio-content")},Object(o.createElement)("div",{className:"nelio-content-social-message-editor__date-selector"},sn()({mixedString:ln(i),components:{input:Object(o.createElement)(Pt.NumberControl,{className:"nelio-content-social-message-editor__positive-days-selector",disabled:t,value:n,min:2,onChange:function(e){return r("positive-days",e)}})}}),Object(o.createElement)(on,{disabled:t})))},dn=[{value:"0",label:Object(Et._x)("Today","text","nelio-content")},{value:"1",label:Object(Et._x)("Tomorrow","text","nelio-content")},{value:"7",label:Object(Et._x)("Next week","text","nelio-content")},{value:"28",label:Object(Et._x)("Next month","text","nelio-content")},{value:"positive-days",label:Object(Et._x)("In __ days","text","nelio-content")},{value:"exact",label:Object(Et._x)("Choose a custom date","user","nelio-content")}],mn=[{value:"0",label:Object(Et._x)("Same day as publication","text","nelio-content")},{value:"1",label:Object(Et._x)("The day after publication","text","nelio-content")},{value:"7",label:Object(Et._x)("A week after publication","text","nelio-content")},{value:"28",label:Object(Et._x)("A month after publication","text","nelio-content")},{value:"positive-days",label:Object(Et._x)("__ days after publication","text","nelio-content")},{value:"exact",label:Object(Et._x)("Choose a custom date","user","nelio-content")}],fn=function(e){var t=e.disabled,n=e.dateValue,r=e.setDateTypeAndValue,i=e.isBasedOnPublication;return Object(o.createElement)(yt.BaseControl,{id:"nelio-content-social-message-editor__date-selector",label:Object(Et._x)("Date","text","nelio-content")},Object(o.createElement)("div",{className:"nelio-content-social-message-editor__date-selector"},Object(o.createElement)(yt.SelectControl,{disabled:t,options:i?mn:dn,value:n,onChange:function(e){"positive-days"===e||"exact"===e?r(e,void 0):r("predefined-offset",e)}})))},bn=kt((function(e){var t=e.dateType,n=e.dateValue,r=e.disabled,i=e.isScheduleBasedOnPostPublication,a=e.setDateTypeAndValue;switch(t){case"exact":return Object(o.createElement)(an,{dateValue:n,disabled:r,setDateTypeAndValue:a});case"positive-days":return Object(o.createElement)(un,{dateValue:n,disabled:r,isBasedOnPublication:i,setDateTypeAndValue:a});case"predefined-offset":default:return Object(o.createElement)(fn,{dateValue:n,disabled:r,isBasedOnPublication:i,setDateTypeAndValue:a})}})),pn=n(20),gn=n.n(pn),On=n(21),vn=n.n(On),jn=n(22),hn=n.n(jn),_n=n(23),yn=n.n(_n),En=n(15),wn=n.n(En);function xn(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn()(e);if(t){var i=wn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yn()(this,n)}}var kn=Ut(function(e){hn()(n,e);var t=Pn(n);function n(){var e;gn()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).validate(),e}return vn()(n,[{key:"componentDidUpdate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(f.keys)(this.props),r=xn(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(t[i]!==this.props[i])return this.validate()}}catch(e){r.e(e)}finally{r.f()}}},{key:"validate",value:function(){var e=this.props,t=e.canImageBeAutoSet,n=e.charCount,r=e.dateValue,i=e.hasProfiles,o=e.hasTargets,a=e.imageId,c=e.isImageRequired,s=e.maxChars,l=e.requiresTargetSelection,u=e.timeValue,d=this.props,m=d.clearErrors,f=d.setError;return i?l&&!o?f(Object(Et._x)("Please select a target","user","nelio-content")):n?n>s?f(Object(Et._x)("Please write a shorter social message","user","nelio-content")):a||!c||t?r?u?m():f(Object(Et._x)("Please specify a time","user","nelio-content")):f(Object(Et._x)("Please specify a date","user","nelio-content")):f(Object(Et._x)("You have to share an image","user","nelio-content")):f(Object(Et._x)("Please write your status update","user","nelio-content")):f(Object(Et._x)("Please select a social profile","user","nelio-content"))}},{key:"render",value:function(){return null}}]),n}(o.Component)),Tn=n(12),Nn=n.n(Tn),In=(n(126),Object(a.compose)(qt,Ft)((function(e){var t=e.disabled,n=e.setText,r=e.text,i=e.usesMultipleProfileSelector;return Object(o.createElement)("div",{className:Nn()({"nelio-content-social-message-editor__message-editor":!0,"nelio-content-social-message-editor__message-editor--is-merged-with-social-profile-selector":i})},Object(o.createElement)(yt.TextareaControl,{disabled:t,value:r,onChange:function(e){return n(e)},placeholder:Object(Et._x)("Your status update","text","nelio-content")}))}))),An=n(24),Cn=(n(127),function(){return Object(o.createElement)("div",{className:"nelio-content-no-preview-in-social-editor "},Object(o.createElement)("div",{className:"nelio-content-no-preview-in-social-editor__title"},Object(o.createElement)(yt.Dashicon,{className:"nelio-content-no-preview-in-social-editor__icon",icon:"warning"}),Object(Et._x)("Preview not available","text","nelio-content")),Object(o.createElement)("div",{className:"nelio-content-no-preview-in-social-editor__explanation"},Object(Et._x)("Please select a social profile using the selector above.","user","nelio-content")),Object(o.createElement)("div",{className:"nelio-content-no-preview-in-social-editor__action"},Object(o.createElement)(yt.ExternalLink,{href:Object(An.addQueryArgs)(Object(Et.__)("https://neliosoftware.com/content/help/how-to-select-social-profiles/","nelio-content"),{utm_source:"nelio-content",utm_medium:"plugin",utm_campaign:"support",utm_content:"social-message-editor"})},Object(Et._x)("Show me how","command","nelio-content"))))}),Vn=(n(128),n(129),function(){return Object(o.createElement)("div",{className:"nelio-content-shared-link-loader"},Object(o.createElement)(yt.Spinner,null))}),Rn=Qt("last")((function(e){var t=e.sharedLinkStatus,n=e.sharedLink,r=n.title,i=n.excerpt,a=n.image,c=n.domain;switch(t){case"loading":return Object(o.createElement)(Vn,null);case"ready":return Object(o.createElement)("div",{className:"nelio-content-twitter-shared-link"},!!a&&Object(o.createElement)("img",{className:"nelio-content-twitter-shared-link__image",alt:Object(Et._x)("Featured image in shared link","text","nelio-content"),src:a}),Object(o.createElement)("div",{className:"nelio-content-twitter-shared-link__content"},Object(o.createElement)("div",{className:"nelio-content-twitter-shared-link__title"},r),!!i&&Object(o.createElement)("div",{className:"nelio-content-twitter-shared-link__excerpt"},i),Object(o.createElement)("div",{className:"nelio-content-twitter-shared-link__signature"},c)));default:return null}})),Dn=function(e){var t=e.activeProfile,n=t.id,r=t.displayName,i=t.username,a=e.dateValue,c=e.image,s=e.schedule,l=e.textComputed,u=e.timeValue,d=e.type;return Object(o.createElement)("div",{className:"nelio-content-social-message-twitter-preview"},Object(o.createElement)("div",{className:"nelio-content-social-message-twitter-preview__profile"},Object(o.createElement)(Pt.SocialProfileIcon,{profileId:n,isNetworkHidden:!0}),Object(o.createElement)("div",{className:"nelio-content-social-message-twitter-preview__name-info"},Object(o.createElement)("div",{className:"nelio-content-social-message-twitter-preview__display-name"},r),Object(o.createElement)("div",{className:"nelio-content-social-message-twitter-preview__username"},i))),Object(o.createElement)(Pt.SocialMessageTextPreview,{value:l,linkBeautifier:function(e){var t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+""}}),"image"===d?Object(o.createElement)("img",{className:"nelio-content-social-message-twitter-preview__image",alt:Object(Et._x)("Image that will be shared with this message.","text","nelio-content"),src:c}):Object(o.createElement)(Rn,null),Object(o.createElement)("div",{className:"nelio-content-social-message-twitter-preview__date"},!!a&&!!u&&Object(rn.dateI18n)(Object(Et._x)("g:i A - d M Y","text (Twitter preview date)","nelio-content"),s),!!a&&!u&&Object(rn.dateI18n)(Object(Et._x)("d M Y","text (Twitter preview date)","nelio-content"),s),!a&&Object(Et._x)("Someday","text","nelio-content")))},Ln=(n(130),function(e){return Object(Et.sprintf)(Object(Et._x)("by %s","text","nelio-content"),e)}),Mn=Qt("first")((function(e){var t=e.sharedLinkStatus,n=e.sharedLink,r=n.author,i=n.title,a=n.excerpt,c=n.image,s=n.domain;switch(t){case"loading":return Object(o.createElement)(Vn,null);case"ready":return Object(o.createElement)("div",{className:"nelio-content-facebook-shared-link"},!!c&&Object(o.createElement)("img",{className:"nelio-content-facebook-shared-link__image",alt:Object(Et._x)("Featured image in shared link","text","nelio-content"),src:c}),Object(o.createElement)("div",{className:"nelio-content-facebook-shared-link__content"},Object(o.createElement)("div",{className:"nelio-content-facebook-shared-link__title"},i),!!a&&Object(o.createElement)("div",{className:"nelio-content-facebook-shared-link__excerpt"},a),Object(o.createElement)("div",{className:"nelio-content-facebook-shared-link__signature"},s,!!r&&" | ".concat(Ln(r)))));default:return null}})),Bn=function(e){var t=e.activeProfile,n=t.id,r=t.displayName,i=e.image,a=e.schedule,c=e.textComputed,s=e.type;return Object(o.createElement)("div",{className:"nelio-content-social-message-facebook-preview"},Object(o.createElement)("div",{className:"nelio-content-social-message-facebook-preview__profile-and-date"},Object(o.createElement)(Pt.SocialProfileIcon,{profileId:n,isNetworkHidden:!0}),Object(o.createElement)("div",{className:"nelio-content-social-message-facebook-preview__name"},Object(o.createElement)("div",{className:"nelio-content-social-message-facebook-preview__display-name"},r)),Object(o.createElement)("div",{className:"nelio-content-social-message-facebook-preview__date"},Object(rn.dateI18n)(Object(Et._x)("F j, Y","text (Facebook preview date)","nelio-content"),a))),Object(o.createElement)(Pt.SocialMessageTextPreview,{value:c,linkBeautifier:function(e){var t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+""}}),"image"===s&&i?Object(o.createElement)("img",{className:"nelio-content-social-message-facebook-preview__image",alt:Object(Et._x)("Image that will be shared with this message.","text","nelio-content"),src:i}):Object(o.createElement)(Mn,null))},Fn=(n(131),Qt("first")((function(e){var t=e.sharedLinkStatus,n=e.sharedLink.image;switch(t){case"loading":return Object(o.createElement)(Vn,null);case"ready":return n?Object(o.createElement)("img",{className:"nelio-content-social-message-gmb-preview__image",alt:Object(Et._x)("Featured image in shared link","text","nelio-content"),src:n}):null;default:return null}}))),Un=function(e){var t=e.activeProfile,n=t.id,r=t.displayName,i=e.image,a=e.schedule,c=e.textComputed,s=e.type;return Object(o.createElement)("div",{className:"nelio-content-social-message-gmb-preview"},Object(o.createElement)("div",{className:"nelio-content-social-message-gmb-preview__profile-and-date"},Object(o.createElement)(Pt.SocialProfileIcon,{profileId:n,isNetworkHidden:!0}),Object(o.createElement)("div",{className:"nelio-content-social-message-gmb-preview__name"},Object(o.createElement)("div",{className:"nelio-content-social-message-gmb-preview__display-name"},r)),Object(o.createElement)("div",{className:"nelio-content-social-message-gmb-preview__date"},Object(rn.dateI18n)(Object(Et._x)("F j, Y","text (Google My Business preview date)","nelio-content"),a))),"image"===s&&i?Object(o.createElement)("img",{className:"nelio-content-social-message-gmb-preview__image",alt:Object(Et._x)("Image that will be shared with this message.","text","nelio-content"),src:i}):Object(o.createElement)(Fn,null),Object(o.createElement)(Pt.SocialMessageTextPreview,{value:c,linkBeautifier:function(e){var t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+""}}))},Gn=n(64),qn=n.n(Gn),Hn=(n(134),Qt("first")((function(e){var t=e.sharedLinkStatus,n=void 0===t?"ready":t,r=e.sharedLink,i=r.domain,a=r.image,c=r.title;switch(n){case"loading":return Object(o.createElement)(Vn,null);case"ready":return Object(o.createElement)("div",{className:"nelio-content-linkedin-shared-link"},a?Object(o.createElement)("img",{className:"nelio-content-linkedin-shared-link__image",alt:Object(Et._x)("Featured image in shared link","text","nelio-content"),src:a}):Object(o.createElement)("br",null),Object(o.createElement)("div",{className:"nelio-content-linkedin-shared-link__content"},Object(o.createElement)("div",{className:"nelio-content-linkedin-shared-link__title"},c),Object(o.createElement)("div",{className:"nelio-content-linkedin-shared-link__signature"},i)));default:return null}}))),Wn=function(e){return qn()(e).substr(0,6)},$n=function(e){var t=e.activeProfile,n=t.id,r=t.displayName,i=e.image,a=e.schedule,c=e.textComputed,s=e.type;return Object(o.createElement)("div",{className:"nelio-content-social-message-linkedin-preview"},Object(o.createElement)("div",{className:"nelio-content-social-message-linkedin-preview__profile-and-date"},Object(o.createElement)(Pt.SocialProfileIcon,{profileId:n,isNetworkHidden:!0}),Object(o.createElement)("div",{className:"nelio-content-social-message-linkedin-preview__name-and-date"},Object(o.createElement)("div",{className:"nelio-content-social-message-linkedin-preview__display-name"},r),Object(o.createElement)("div",{className:"nelio-content-social-message-linkedin-preview__date"},Object(rn.dateI18n)(Object(Et._x)("F j, Y","LinkedIn preview date","nelio-content"),a)))),Object(o.createElement)(Pt.SocialMessageTextPreview,{value:c,linkBeautifier:function(e){return"https://lnkd.in/"+Wn(e)}}),"image"===s?Object(o.createElement)("img",{className:"nelio-content-social-message-linkedin-preview__image",alt:Object(Et._x)("Image that will be shared with this message.","text","nelio-content"),src:i}):Object(o.createElement)(Hn,null))},Yn=(n(135),function(e){var t=e.activeProfile,n=t.id,r=t.displayName,i=e.image,a=e.schedule,c=e.textComputed,s=e.type;return Object(o.createElement)("div",{className:"nelio-content-social-message-instagram-preview"},Object(o.createElement)("div",{className:"nelio-content-social-message-instagram-preview__image"},"image"===s?Object(o.createElement)("img",{className:"nelio-content-social-message-instagram-preview__actual-image",alt:Object(Et._x)("Image that will be shared with this message.","text","nelio-content"),src:i}):Object(o.createElement)("div",{className:"nelio-content-social-message-instagram-preview__image-placeholder"},Object(o.createElement)(yt.Dashicon,{className:"nelio-content-social-message-instagram-preview__image-icon",icon:"format-image"}))),Object(o.createElement)("div",{className:"nelio-content-social-message-instagram-preview__content"},Object(o.createElement)("div",{className:"nelio-content-social-message-instagram-preview__profile-and-name"},Object(o.createElement)(Pt.SocialProfileIcon,{profileId:n,isNetworkHidden:!0}),Object(o.createElement)("div",{className:"nelio-content-social-message-instagram-preview__display-name"},r)),Object(o.createElement)("div",{className:"nelio-content-social-message-instagram-preview__date"},Object(rn.dateI18n)(Object(Et._x)("F j, Y","text (Instagram preview date)","nelio-content"),a)),Object(o.createElement)(Pt.SocialMessageTextPreview,{value:c,linkBeautifier:function(e){return e.replace(/https?:\/\/([^\/]+).*/,"$1")}})))}),zn=(n(136),function(e){var t=e.activeProfile,n=t.id,r=t.displayName,i=void 0===r?"Nelio":r,a=e.image,c=e.schedule,s=e.textComputed,l=e.type;return Object(o.createElement)("div",{className:"nelio-content-social-message-pinterest-preview"},Object(o.createElement)("div",{className:"nelio-content-social-message-pinterest-preview__image"},"image"===l?Object(o.createElement)("img",{className:"nelio-content-social-message-pinterest-preview__actual-image",alt:Object(Et._x)("Image that will be shared with this message.","text","nelio-content"),src:a}):Object(o.createElement)("div",{className:"nelio-content-social-message-pinterest-preview__image-placeholder"},Object(o.createElement)(yt.Dashicon,{className:"nelio-content-social-message-pinterest-preview__image-icon",icon:"format-image"}))),Object(o.createElement)("div",{className:"nelio-content-social-message-pinterest-preview__content"},Object(o.createElement)(Pt.SocialProfileIcon,{profileId:n,isNetworkHidden:!0}),Object(o.createElement)("div",{className:"nelio-content-social-message-pinterest-preview__profile-date-and-message"},Object(o.createElement)("div",{className:"nelio-content-social-message-pinterest-preview__profile"},Object(Et._x)("Saved by","text (pinterest)","nelio-content"),Object(o.createElement)("br",null),Object(o.createElement)("strong",null,i)),Object(o.createElement)("div",{className:"nelio-content-social-message-pinterest-preview__date"},Object(rn.dateI18n)(Object(Et._x)("F j, Y","text (Pinterest preview date)","nelio-content"),c)),Object(o.createElement)(Pt.SocialMessageTextPreview,{value:s,linkBeautifier:function(e){return e.replace(/https?:\/\/([^\/]+).*/,"$1")}}))))}),Kn=(n(137),Qt("first")((function(e){var t=e.sharedLinkStatus,n=e.sharedLink,r=n.domain,i=n.excerpt,a=n.image,c=n.title;switch(t){case"loading":return Object(o.createElement)(Vn,null);case"ready":return Object(o.createElement)("div",{className:"nelio-content-tumblr-shared-link"},!!a&&Object(o.createElement)("div",{className:"nelio-content-tumblr-shared-link__image"},Object(o.createElement)("img",{alt:Object(Et._x)("Featured image in shared link","text","nelio-content"),src:a}),Object(o.createElement)("div",{className:"nelio-content-tumblr-shared-link__signature"},r)),Object(o.createElement)("div",{className:"nelio-content-tumblr-shared-link__content"},Object(o.createElement)("div",{className:"nelio-content-tumblr-shared-link__title"},c),!!i&&Object(o.createElement)("div",{className:"nelio-content-tumblr-shared-link__excerpt"},i)));default:return null}}))),Qn=function(e){var t=e.activeProfile,n=t.id,r=t.username,i=e.image,a=e.textComputed,c=e.type;return Object(o.createElement)("div",{className:"nelio-content-social-message-tumblr-preview"},Object(o.createElement)("div",{className:"nelio-content-social-message-tumblr-preview__profile"},Object(o.createElement)(Pt.SocialProfileIcon,{profileId:n,isNetworkHidden:!0})),Object(o.createElement)("div",{className:"nelio-content-social-message-tumblr-preview__wrapper"},Object(o.createElement)("div",{className:"nelio-content-social-message-tumblr-preview__name"},r),"image"===c?Object(o.createElement)("img",{className:"nelio-content-social-message-tumblr-preview__image",alt:Object(Et._x)("Image that will be shared with this message.","text","nelio-content"),src:i}):Object(o.createElement)(Kn,null),Object(o.createElement)(Pt.SocialMessageTextPreview,{value:a,linkBeautifier:function(e){var t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+""}})))};function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn()(e);if(t){var i=wn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yn()(this,n)}}var Zn,Jn=function(e){hn()(n,e);var t=Xn(n);function n(){var e;gn()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).loadSharedLinks(),e}return vn()(n,[{key:"componentDidUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.textComputed,n=this.props.textComputed,r=Object(p.getAllUrls)(t),i=Object(p.getAllUrls)(n);Object(f.isEqual)(r,i)||this.loadSharedLinks()}},{key:"loadSharedLinks",value:function(){var e=this.props,t=e.textComputed,n=e.loadSharedLinks,r=Object(p.getAllUrls)(t);clearTimeout(this.sharedLinksTimeout),this.sharedLinksTimeout=setTimeout((function(){return n(r)}),1e3)}},{key:"render",value:function(){if(!this.props.isPreviewVisible)return null;if(!this.props.activeProfile)return Object(o.createElement)(Cn,null);switch(this.props.activeProfile.network){case"twitter":return Object(o.createElement)(Dn,this.props);case"facebook":return Object(o.createElement)(Bn,this.props);case"gmb":return Object(o.createElement)(Un,this.props);case"linkedin":return Object(o.createElement)($n,this.props);case"instagram":return Object(o.createElement)(Yn,this.props);case"pinterest":return Object(o.createElement)(zn,this.props);case"tumblr":return Object(o.createElement)(Qn,this.props);default:return null}}}]),n}(o.Component),er=Object(a.compose)(Yt,Kt,zt)(Jn),tr=(n(138),Object(a.ifCondition)((function(e){var t=e.canImageBeAutoSet,n=e.hasImage;return e.isImageRequired&&!n&&!t}))),nr=Object(a.compose)(Rt,tr)((function(){return Object(o.createElement)("p",{className:"nelio-content-social-message-editor__missing-image-warning"},Object(o.createElement)(yt.Dashicon,{icon:"warning"}),Object(Et._x)("Please add an image to the message","user","nelio-content"))})),rr=(n(139),Object(c.withSelect)((function(e){var t=e("nelio-content/data"),n=t.getSocialProfile,r=t.getSocialProfileCount,i=e("nelio-content/social-message-editor"),o=i.getSelectedSocialProfiles,a=i.getSelectedTargetsInProfile,c=r(),s=o()[0],l=a(s)[0];return{network:(n(s)||{}).network,profileCount:c,profileId:s,targetName:l}}))),ir=Object(c.withDispatch)((function(e){var t=e("nelio-content/social-message-editor"),n=t.selectSingleSocialProfile,r=t.selectSingleTarget;return{setAttributes:function(e){var t=e.profileId,i=e.targetName;i?r(t,i):n(t)}}})),or=Object(a.ifCondition)((function(e){var t=e.profileCount,n=e.network;return 1<t||Object(b.getMultiTargetNetworks)().includes(n)})),ar=Object(a.compose)(rr,ir,or)((function(e){var t=e.disabled,n=e.isProfileLocked,r=e.network,i=e.profileId,a=e.setAttributes,c=e.targetName;return Object(o.createElement)(Pt.SocialProfileSelector,{className:"nelio-content-single-profile-selector",isProfileLocked:n,disabled:t,network:r,profileId:i,targetName:c,onChange:a})})),cr=(n(140),function(e){var t,n=e.disabled,r=e.isActive,i=e.isSelected,a=e.network,c=e.onSelect;return Object(o.createElement)("div",{className:Nn()((t={"nelio-content-multiple-profile-selector__network":!0,"nelio-content-multiple-profile-selector__network--has-arrow":r,"nelio-content-multiple-profile-selector__network--is-disabled":n},m()(t,"nelio-content-multiple-profile-selector__network--is-".concat(a),!0),m()(t,"nelio-content-multiple-profile-selector__network--is-".concat(a,"-active"),r),m()(t,"nelio-content-multiple-profile-selector__network--is-".concat(a,"-selected"),i),m()(t,"nelio-content-multiple-profile-selector__network--is-".concat(a,"-disabled"),n),t))},Object(o.createElement)("input",{type:"radio",id:"nelio-content-multiple-profile-selector__network-input-field",className:"nelio-content-multiple-profile-selector__network-input-field",disabled:n,value:a,onChange:function(e){return e.target.checked&&c()},checked:r}),Object(o.createElement)("span",{className:"screen-reader-text"},a))}),sr=Object(a.compose)(Dt,Lt,Mt)((function(e){var t=e.activeNetwork,n=e.availableNetworks,r=e.disabled,i=e.selectedNetworks,a=e.setActiveNetwork;return Object(o.createElement)("div",{className:"nelio-content-multiple-profile-selector__networks"},Object(o.createElement)("p",{className:"screen-reader-text"},Object(Et._x)("Select the network whose profiles you want to use:","user","nelio-content")),n.map((function(e){return Object(o.createElement)(cr,{key:e,network:e,disabled:r,isSelected:i.includes(e),isActive:e===t,onSelect:function(){return a(e)}})})))})),lr=Object(a.compose)((Zn="profileId",Object(c.withSelect)((function(e,t){if(t[Zn])return{profile:(0,e("nelio-content/data").getSocialProfile)(t[Zn])}}))),function(e){return Object(c.withSelect)((function(t,n){return{selectedTargetNames:(0,t("nelio-content/social-message-editor").getSelectedTargetsInProfile)(n[e])}}))}("profileId"),en,Jt)((function(e){var t=e.disabled,n=e.openTargetSelector,r=e.profile,i=(r=void 0===r?{}:r).displayName,a=r.isMultiTarget,c=r.network,s=e.profileId,l=e.selectedProfiles,u=e.selectedTargetNames,d=e.toggleProfile,f=u.length,p=l.includes(s)||!!f;return Object(o.createElement)("li",{className:Nn()({"nelio-content-multiple-profile-selector__profile":!0,"nelio-content-multiple-profile-selector__profile--is-selected":p,"nelio-content-multiple-profile-selector__profile--is-disabled":t,"nelio-content-multiple-profile-selector__profile--is-multi-target":a})},Object(o.createElement)("span",{className:"screen-reader-text"},"".concat(i,": ")),a?Object(o.createElement)("input",{className:"nelio-content-multiple-profile-selector__profile-input-field",disabled:t,type:"button",value:Object(b.getTargetLabel)(c,"selectTargets"),onClick:function(){return n(s)}}):Object(o.createElement)("input",{className:"nelio-content-multiple-profile-selector__profile-input-field",disabled:t,type:"checkbox",checked:!!p,onChange:function(){return d(s)}}),Object(o.createElement)("div",{className:"nelio-content-multiple-profile-selector__icon-and-indicator"},Object(o.createElement)(Pt.SocialProfileIcon,{className:Nn()({"nelio-content-multiple-profile-selector__profile-icon":!0,"nelio-content-multiple-profile-selector__profile-icon--is-selected":p}),profileId:s,isNetworkHidden:!0}),Object(o.createElement)("div",{className:Nn()(m()({"nelio-content-multiple-profile-selector__profile-indicator":!0,"nelio-content-multiple-profile-selector__profile-indicator--is-selected":p,"nelio-content-multiple-profile-selector__profile-indicator--uses-targets":a},"nelio-content-multiple-profile-selector__profile-indicator--has-".concat(f<10?f:"9-plus","-selected-targets"),!!f))})))})),ur=Object(a.compose)(Mt,Zt)((function(e){var t=e.activeNetwork,n=e.availableProfiles,r=e.disabled;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",{className:"screen-reader-text"},Object(Et._x)("Select one or more profiles:","text","nelio-content")),Object(o.createElement)("ul",{className:Nn()({"nelio-content-multiple-profile-selector__profiles":!0,"nelio-content-multiple-profile-selector__profiles--is-disabled":r})},n.filter((function(e){return e.network===t})).map((function(e){return Object(o.createElement)(lr,{key:e.id,profileId:e.id,disabled:r})}))))})),dr=n(16),mr=n.n(dr),fr=(n(141),function(e){var t=e.id,n=e.displayName,r=e.name,i=e.image,a=void 0===i?"":i,c=e.onClick,s=e.isSelected;return Object(o.createElement)("li",{className:"nelio-content-target-selector__target","data-id":t,"data-name":r},Object(o.createElement)(yt.CheckboxControl,{className:"nelio-content-target-selector__checkbox",label:s?Object(o.createElement)("strong",null,n):n,checked:s,onChange:c}),Object(o.createElement)("div",{className:"nelio-content-target-selector__target-image",style:{backgroundImage:"url(".concat(a,")")}}))}),br=tn((function(e){var t=e.network,n=e.close,r=e.isLoading,i=e.saveSelection,a=e.selectTarget,c=e.selectedTargetNames,s=e.targets;return Object(o.createElement)(yt.Modal,{className:"nelio-content-target-selector",title:Object(b.getTargetLabel)(t,"title"),isDismissable:!1,isDismissible:!1,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!1,onRequestClose:n},!!r&&Object(o.createElement)("p",{className:"nelio-content-target-selector__info"},Object(b.getTargetLabel)(t,"loading")),!r&&Object(p.isEmpty)(s)&&Object(o.createElement)("p",{className:"nelio-content-target-selector__info"},Object(b.getTargetLabel)(t,"noTargetsExplanation")),!r&&!Object(p.isEmpty)(s)&&Object(o.createElement)("p",{className:"nelio-content-target-selector__info"},Object(b.getTargetLabel)(t,"explanation")),!r&&!Object(p.isEmpty)(s)&&Object(o.createElement)("ul",{className:"nelio-content-target-selector__targets"},s.map((function(e){return Object(o.createElement)(fr,mr()({key:e.name,isSelected:c.includes(e.name),onClick:function(){return a(e.name,!c.includes(e.name))}},e))}))),Object(o.createElement)("div",{className:"nelio-content-target-selector__actions"},Object(o.createElement)(yt.Button,{isSecondary:!0,className:"nelio-content-target-selector__cancel-action",onClick:n},Object(Et._x)("Cancel","command","nelio-content")),Object(o.createElement)(Pt.SaveButton,{className:"nelio-content-target-selector__save-action",disabled:r,onClick:i})))})),pr=function(e){var t=e.disabled;return Object(o.createElement)("div",{className:"nelio-content-multiple-profile-selector"},Object(o.createElement)(sr,{disabled:t}),Object(o.createElement)(ur,{disabled:t}),Object(o.createElement)(br,{disabled:t}))},gr=Object(a.compose)(qt)((function(e){var t=e.disabled,n=e.isSingleProfileLocked;return e.usesMultipleProfileSelector?Object(o.createElement)(pr,{disabled:t}):Object(o.createElement)(ar,{isProfileLocked:n,disabled:t})})),Or=(n(142),Object(a.compose)(Ht,Wt)((function(e){var t=e.disabled,n=e.enablePostSearcher,r=e.isPostSearcherAvailable,i=e.isPostSearcherVisible,a=e.isRelatedPostVisible,c=e.post,s=e.postId,l=e.setPost;return a?Object(o.createElement)("div",{className:"nelio-content-social-message-editor__related-post-controls nelio-content-social-message-editor__related-post-controls--has-related-post-link"},Object(o.createElement)("strong",null,Object(Et._x)("Related Post:","text","nelio-content")+" "),Object(o.createElement)(yt.ExternalLink,{href:c.viewLink},Object(o.createElement)("span",{className:"nelio-content-related-post-link"},"".concat(c.title," is a pretty long post that should grab your attention")))):Object(o.createElement)("div",{className:"nelio-content-social-message-editor__related-post-controls"},!!r&&!i&&Object(o.createElement)(yt.Button,{isLink:!0,disabled:t,onClick:n},Object(Et._x)("Share old post","command","nelio-content")),!!r&&!!i&&Object(o.createElement)(Pt.PostSearcher,{disabled:t,value:s,onChange:l}))}))),vr=(n(143),Bt((function(e){var t=e.charCount,n=e.maxChars,r=n-t<=0,i=!r&&n-t<20;return Object(o.createElement)("div",{className:"nelio-content-social-char-counter"},Object(o.createElement)("div",{className:Nn()({"nelio-content-social-char-counter__count":!0,"nelio-content-social-char-counter__count--is-warning":i,"nelio-content-social-char-counter__count--is-error":r})},Math.min(99,Math.abs(n-t))),Object(o.createElement)("svg",{className:"nelio-content-social-char-counter__circle"},Object(o.createElement)("circle",{className:"nelio-content-social-char-counter__circle-base",cx:"50%",cy:"50%",r:"8",fill:"none",strokeWidth:"1"}),Object(o.createElement)("circle",{className:Nn()({"nelio-content-social-char-counter__circle-arc":!0,"nelio-content-social-char-counter__circle-arc--is-warning":i,"nelio-content-social-char-counter__circle-arc--is-error":r}),cx:"50%",cy:"50%",r:"8",fill:"none",strokeWidth:"2",style:{strokeDashoffset:50*(1-Math.min(1,t/n)),strokeDasharray:50}})))}))),jr=function(e){var t=e.disabled;return Object(o.createElement)("div",{className:Nn()({"nelio-content-social-message-editor__char-counter-wrapper":!0,"nelio-content-social-message-editor__char-counter-wrapper--is-disabled":t})},Object(o.createElement)(vr,null))},hr=n(65),_r=Rt((function(e){var t=e.disabled,n=e.imageId,r=e.isImageRequired,i=e.canImageBeAutoSet,a=e.hasImage,c=e.setImage,s=e.removeImage;return Object(o.createElement)(hr.MediaUpload,{allowedTypes:"image",value:n,onSelect:function(e){var t=e.id,n=e.url;return c(t,n)},render:function(e){var n=e.open;return Object(o.createElement)(yt.Button,{className:Nn()({"nelio-content-social-message-editor__quick-action":!0,"nelio-content-social-message-editor__quick-action--is-toggled":a,"nelio-content-social-message-editor__quick-action--is-image-required":!a&&r&&!i}),icon:"format-image",label:a?Object(Et._x)("Remove Image","command","nelio-content"):Object(Et._x)("Add Image","command","nelio-content"),tooltipPosition:"bottom",isPressed:a,disabled:t,onClick:function(){return a?s():n()}})}})})),yr=!1,Er=function(){"function"==typeof yr&&yr()},wr=Object(a.ifCondition)((function(e){var t=e.post;return!Object(p.isEmpty)(t)})),xr=Object(a.compose)(Ht,$t,Ft,wr)((function(e){var t=e.disabled,n=e.isLoadingPreviousMessages,r=e.previousMessages,i=e.setText;return Object(o.createElement)(yt.DropdownMenu,{className:"nelio-content-social-message-editor__quick-action nelio-content-social-message-editor__add-placeholder",icon:"backup",label:Object(Et._x)("Reuse Previous Social Message","command","nelio-content"),toggleProps:{disabled:t,tooltipPosition:"bottom"},popoverProps:{onFocusOutside:Er}},(function(e){var t=e.onClose;if(yr=t,n)return Object(o.createElement)("div",{className:"nelio-content-social-message-editor__previous-messages-loader"},Object(o.createElement)(yt.Spinner,{isActive:!0}),Object(Et._x)("Loading","text","nelio-conent"));return Object(o.createElement)(yt.MenuGroup,{label:Object(Et._x)("Previous Social Messages","text","nelio-content")},r.map((function(e){return Object(o.createElement)(yt.MenuItem,{key:e,role:"menuitem",onClick:function(){t(),i(e)}},function(e){return 80<e.length?Object(f.trim)(e.substr(0,75))+"":e}(e))})))}))})),Sr=!1,Pr=function(){"function"==typeof Sr&&Sr()},kr=Object(a.compose)(Ht,Ft)((function(e){var t=e.disabled,n=e.post,r=e.setText,i=e.text;return Object(o.createElement)(yt.DropdownMenu,{className:"nelio-content-social-message-editor__quick-action nelio-content-social-message-editor__add-placeholder",icon:"tag",label:Object(Et._x)("Add Placeholder","command","nelio-content"),toggleProps:{disabled:!n||t,tooltipPosition:"bottom"},popoverProps:{onFocusOutside:Pr}},(function(e){var t=e.onClose;Sr=t;var n=function(e){return r(/[^\s]$/.test(i)?"".concat(i," ").concat(e):"".concat(i).concat(e))};return Object(o.createElement)(yt.MenuGroup,null,Object(o.createElement)(yt.MenuItem,{role:"menuitem",icon:"editor-textcolor",onClick:function(){return n("{title}")}},Object(Et._x)("Add Title","command","nelio-content")),Object(o.createElement)(yt.MenuItem,{role:"menuitem",icon:"text",onClick:function(){return n("{excerpt}")}},Object(Et._x)("Add Excerpt","command","nelio-content")),Object(o.createElement)(yt.MenuItem,{role:"menuitem",icon:"tag",onClick:function(){return n("{tags}")}},Object(Et._x)("Add Tags","command","nelio-content")),Object(o.createElement)(yt.MenuItem,{role:"menuitem",icon:"admin-links",onClick:function(){return n("{permalink}")}},Object(Et._x)("Add Permalink","command","nelio-content")))}))})),Tr=Yt((function(e){var t=e.disabled,n=e.isPreviewVisible,r=e.togglePreviewVisibility;return Object(o.createElement)(yt.Button,{className:Nn()({"nelio-content-social-message-editor__quick-action":!0,"nelio-content-social-message-editor__quick-action--is-toggled":n}),icon:"visibility",label:n?Object(Et._x)("Hide Preview","command","nelio-content"):Object(Et._x)("Show Preview","command","nelio-content"),tooltipPosition:"bottom",isPressed:n,disabled:t,onClick:r})})),Nr=function(e){var t=e.disabled;return Object(o.createElement)("div",{className:"nelio-content-social-message-editor__quick-actions-wrapper"},Object(o.createElement)(Or,{disabled:t}),Object(o.createElement)("div",{className:"nelio-content-social-message-editor__quick-actions"},Object(o.createElement)(xr,{disabled:t}),Object(o.createElement)(kr,{disabled:t}),Object(o.createElement)(_r,{disabled:t}),Object(o.createElement)(Tr,{disabled:t}),Object(o.createElement)(jr,{disabled:t})))},Ir=(n(144),It((function(e){var t=e.disabled,n=e.resetTime;return Object(o.createElement)("div",{className:"nelio-content-social-message-editor__reset-time-button"},Object(o.createElement)(yt.Button,{isLink:!0,disabled:t,onClick:n},Object(Et._x)("Change","command","nelio-content")))}))),Ar=function(e){var t=e.disabled,n=e.timeValue,r=e.setTimeTypeAndValue;return Object(o.createElement)(yt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:Object(Et._x)("Time","text","nelio-content")},Object(o.createElement)("div",{className:"nelio-content-social-message-editor__time-selector"},Object(o.createElement)(Pt.TimeInput,{disabled:t,value:n,onChange:function(e){return r("exact",e)}}),Object(o.createElement)(Ir,{disabled:t})))},Cr=function(e){return e?Object(Et.sprintf)(Object(Et._x)("%s hours after publication.","text","nelio-content"),"{{input/}}"):Object(Et.sprintf)(Object(Et._x)("In %s hours.","text","nelio-content"),"{{input/}}")},Vr=function(e){var t=e.disabled,n=e.timeValue,r=e.isBasedOnPublication,i=e.setTimeTypeAndValue;return Object(o.createElement)(yt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:Object(Et._x)("Time","text","nelio-content")},Object(o.createElement)("div",{className:"nelio-content-social-message-editor__time-selector"},sn()({mixedString:Cr(r),components:{input:Object(o.createElement)(Pt.NumberControl,{className:"nelio-content-social-message-editor__positive-hours-selector",disabled:t,value:n,min:2,onChange:function(e){return i("positive-hours",e)}})}}),Object(o.createElement)(Ir,{disabled:t})))},Rr=[{value:"morning",label:Object(Et._x)("Morning (8am  11am)","text","nelio-content")},{value:"noon",label:Object(Et._x)("Noon (11am  3pm)","text","nelio-content")},{value:"afternoon",label:Object(Et._x)("Afternoon (3pm  7pm)","text","nelio-content")},{value:"night",label:Object(Et._x)("Night (7pm  11pm)","text","nelio-content")},{value:"exact",label:Object(Et._x)("Choose a custom time","user","nelio-content")}],Dr=function(e){var t=e.disabled,n=e.timeValue,r=e.setTimeTypeAndValue;return Object(o.createElement)(yt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:Object(Et._x)("Time","text","nelio-content")},Object(o.createElement)("div",{className:"nelio-content-social-message-editor__time-selector"},Object(o.createElement)(yt.SelectControl,{disabled:t,options:Rr,value:n,onChange:function(e){"exact"===e?r("exact",void 0):r("time-interval",e)}})))},Lr=[{value:"0",label:Object(Et._x)("Now","text","nelio-content")},{value:"1",label:Object(Et._x)("In one hour","text","nelio-content")},{value:"3",label:Object(Et._x)("In three hours","text","nelio-content")},{value:"5",label:Object(Et._x)("In five hours","text","nelio-content")},{value:"positive-hours",label:Object(Et._x)("In __ hours","text","nelio-content")},{value:"exact",label:Object(Et._x)("Choose a custom time","user","nelio-content")}],Mr=[{value:"0",label:Object(Et._x)("Same time as publication","text","nelio-content")},{value:"1",label:Object(Et._x)("One hour after publication","text","nelio-content")},{value:"3",label:Object(Et._x)("Three hours after publication","text","nelio-content")},{value:"5",label:Object(Et._x)("Five hours after publication","text","nelio-content")},{value:"positive-hours",label:Object(Et._x)("__ hours after publication","text","nelio-content")},{value:"exact",label:Object(Et._x)("Choose a custom time","user","nelio-content")}],Br=function(e){var t=e.disabled,n=e.timeValue,r=e.setTimeTypeAndValue,i=e.isBasedOnPublication;return Object(o.createElement)(yt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:Object(Et._x)("Time","text","nelio-content")},Object(o.createElement)("div",{className:"nelio-content-social-message-editor__time-selector"},Object(o.createElement)(yt.SelectControl,{disabled:t,options:i?Mr:Lr,value:n,onChange:function(e){"positive-hours"===e||"exact"===e?r(e,void 0):r("predefined-offset",e)}})))},Fr=Tt((function(e){var t=e.timeType,n=e.timeValue,r=e.disabled,i=e.isScheduleBasedOnPostPublication,a=e.setTimeTypeAndValue;switch(t){case"exact":return Object(o.createElement)(Ar,{disabled:r,setTimeTypeAndValue:a,timeValue:n});case"positive-hours":return Object(o.createElement)(Vr,{disabled:r,isBasedOnPublication:i,setTimeTypeAndValue:a,timeValue:n});case"time-interval":return Object(o.createElement)(Dr,{disabled:r,isBasedOnPublication:i,setTimeTypeAndValue:a,timeValue:n});case"predefined-offset":default:return Object(o.createElement)(Br,{disabled:r,isBasedOnPublication:i,setTimeTypeAndValue:a,timeValue:n})}})),Ur=Gt((function(e){var t=e.className,n=void 0===t?"":t,r=e.close,i=e.isLoadingRelatedPost,a=e.isNewMessage,c=e.isSaving,s=e.isSubscribed,l=e.unloadableRelatedPostId;return Object(o.createElement)(Pt.LoadingModal,{className:"nelio-content-social-message-editor ".concat(n),title:a?Object(Et._x)("Create Social Message","text","nelio-content"):Object(Et._x)("Edit Social Message","text","nelio-content"),isDismissable:!1,isDismissible:!1,shouldCloseOnEsc:!c,shouldCloseOnClickOutside:!1,onRequestClose:r,isLoading:i,loadingErrorMessage:l&&Object(Et.sprintf)(Object(Et._x)("Post %d not found.","text","nelio-content"),l)},Object(o.createElement)(kn,null),Object(o.createElement)(gr,{disabled:c}),Object(o.createElement)(In,{disabled:c}),Object(o.createElement)(Nr,{disabled:c}),Object(o.createElement)(nr,null),Object(o.createElement)(er,null),Object(o.createElement)("div",{className:"nelio-content-social-message-editor__schedule-options"},Object(o.createElement)(bn,{disabled:c||!s}),Object(o.createElement)(Fr,{disabled:c||!s})),Object(o.createElement)(nn,null))})),Gr=(n(145),Object(c.withSelect)((function(e){var t=e("nelio-content/social-message-editor"),n=t.isSaving;return{error:(0,t.getFailureDescription)(),isSaving:n()}}))),qr=Object(c.withDispatch)((function(e){var t=e("nelio-content/social-message-editor"),n=t.close;return{edit:t.makeEditable,close:n,sendNow:t.sendNow}})),Hr=Object(a.compose)(Gr,qr)((function(e){var t=e.isSaving,n=e.error,r=e.close,i=e.sendNow,a=e.edit;return Object(o.createElement)(yt.Modal,{className:"nelio-content-social-message-error-dialog",title:Object(Et._x)("Failed Social Message","text","nelio-content"),onRequestClose:function(){return!t&&r()}},Object(o.createElement)("div",{className:"nelio-content-social-message-error-dialog__content"},Object(p.isEmpty)(n)?Object(o.createElement)(o.Fragment,null,Object(Et._x)("An error occurred while attempting to share this social message.","text","nelio-content")):Object(o.createElement)(o.Fragment,null,Object(o.createElement)("strong",null,Object(Et._x)("Error!","text","nelio-content"))," ".concat(n))),Object(o.createElement)("div",{className:"nelio-content-social-message-error-dialog__actions"},Object(o.createElement)(yt.Button,{isSecondary:!0,onClick:a,disabled:t},Object(Et._x)("Edit","command","nelio-content")),Object(o.createElement)(yt.Button,{isPrimary:!0,isBusy:t,onClick:i,disabled:t},t?Object(Et._x)("Saving","text","nelio-content"):Object(Et._x)("Send Now","command","nelio-content"))))})),Wr=(n(146),Object(c.withDispatch)((function(e){return{close:e("nelio-content/social-message-editor").close}}))((function(e){var t=e.close;return Object(o.createElement)(yt.Modal,{className:"nelio-content-free-preview-warning",title:Object(Et._x)("Upgrade to Premium","text","nelio-content"),onRequestClose:t},Object(o.createElement)("div",{className:"nelio-content-free-preview-warning__content"},Object(Et._x)("This preview message will be shared when you upgrade to Nelio Content Premium.","user","nelio-content")),Object(o.createElement)("div",{className:"nelio-content-free-preview-warning__actions"},Object(o.createElement)(yt.ExternalLink,{className:"components-button is-primary",href:Object(An.addQueryArgs)(Object(Et.__)("https://neliosoftware.com/content/pricing/","nelio-content"),{utm_source:"wordpress",utm_medium:"plugin",utm_campaign:"free"}),onClick:t},Object(Et._x)("Upgrade","command","nelio-content"))))}))),$r=(n(147),Object(c.withSelect)((function(e){var t=e("nelio-content/data").getPost,n=e("nelio-content/social-message-editor"),r=n.isLoadingRelatedPost,i=n.getText,o=(0,n.getPostId)(),a=t(o)||{};return{text:i(),isLoadingRelatedPost:r(),hasPost:!!o,postId:o,postTitle:a.title,postLink:a.viewLink}}))),Yr=Object(c.withDispatch)((function(e){return{close:e("nelio-content/social-message-editor").close}})),zr=Object(a.compose)($r,Yr)((function(e){var t=e.close,n=e.hasPost,r=e.isLoadingRelatedPost,i=e.postId,a=e.postLink,c=e.postTitle,s=e.text;return Object(o.createElement)(Pt.LoadingModal,{className:"nelio-content-social-message-publish-dialog",title:Object(Et._x)("Social Message","text","nelio-content"),onRequestClose:t,isLoading:r},Object(o.createElement)("div",{className:"nelio-content-social-message-publish-dialog__content"},Object(o.createElement)("p",null,s),n&&!!c&&Object(o.createElement)("p",null,Object(o.createElement)("strong",null,Object(Et._x)("Related Post:","text","nelio-content"))," ",Object(o.createElement)(yt.ExternalLink,{href:a},c)),n&&!c&&Object(o.createElement)("p",null,Object(o.createElement)("em",null,Object(o.createElement)("strong",null,Object(Et._x)("Warning:","text","nelio-content")+" "),Object(Et.sprintf)(Object(Et._x)("related post %d couldnt be loaded.","text","nelio-content"),i)))),Object(o.createElement)("div",{className:"nelio-content-social-message-publish-dialog__actions"},Object(o.createElement)(yt.Button,{isSecondary:!0,onClick:t},Object(Et._x)("Close","command","nelio-content"))))})),Kr=Object(c.withSelect)((function(e){var t=e("nelio-content/data").getSocialProfileCount,n=e("nelio-content/social-message-editor"),r=n.isFreePreview,i=n.getStatus,o=n.isEditorVisible;return{hasProfiles:0<t(),isEditorVisible:o(),isFreePreview:r(),status:i()}})),Qr=Object(a.ifCondition)((function(e){return e.isEditorVisible}));t.default=Object(a.compose)(Kr,Qr)((function(e){var t=e.hasProfiles,n=e.isFreePreview,r=e.status;return t?"error"===r?Object(o.createElement)(Hr,null):"publish"===r?Object(o.createElement)(zr,null):n?Object(o.createElement)(Wr,null):Object(o.createElement)(Ur,null):Object(o.createElement)(St,null)}))}]);