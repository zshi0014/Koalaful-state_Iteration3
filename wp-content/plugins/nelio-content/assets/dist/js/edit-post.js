this.NelioContent=this.NelioContent||{},this.NelioContent.editPost=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=162)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.wp.dataControls}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.NelioContent.utils}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t){!function(){e.exports=this.NelioContent.components}()},function(e,t){!function(){e.exports=this.React}()},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var c=o.apply(null,r);c&&e.push(c)}else if("object"===i)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(34),o=n(35),i=n(29),c=n(36);e.exports=function(e){return r(e)||o(e)||i(e)||c()}},function(e,t){!function(){e.exports=this.NelioContent.date}()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},,function(e,t,n){var r=n(38);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},,,function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(39);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(31),o=n(26);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t){!function(){e.exports=this.moment}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},,function(e,t,n){var r=n(27);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(11)),i=a(n(51)),c=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=void 0;function l(e,t){var n,c,a,u,d,m,f,p,b=[],g={};for(m=0;m<e.length;m++)if("string"!==(d=e[m]).type){if(!t.hasOwnProperty(d.value)||void 0===t[d.value])throw new Error("Invalid interpolation, missing component node: `"+d.value+"`");if("object"!==r(t[d.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+d.value+"`","\n> "+s);if("componentClose"===d.type)throw new Error("Missing opening component token: `"+d.value+"`");if("componentOpen"===d.type){n=t[d.value],a=m;break}b.push(t[d.value])}else b.push(d.value);return n&&(u=function(e,t){var n,r,o=t[e],i=0;for(r=e+1;r<t.length;r++)if((n=t[r]).value===o.value){if("componentOpen"===n.type){i++;continue}if("componentClose"===n.type){if(0===i)return r;i--}}throw new Error("Missing closing component token `"+o.value+"`")}(a,e),f=l(e.slice(a+1,u),t),c=o.default.cloneElement(n,{},f),b.push(c),u<e.length-1&&(p=l(e.slice(u+1),t),b=b.concat(p))),1===b.length?b[0]:(b.forEach((function(e,t){e&&(g["interpolation-child-"+t]=e)})),(0,i.default)(g))}t.default=function(e){var t=e.mixedString,n=e.components,o=e.throwErrors;if(s=t,!n)return t;if("object"!==(void 0===n?"undefined":r(n))){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var i=(0,c.default)(t);try{return l(i,n)}catch(e){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},,,function(e,t,n){var r=n(27);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},,function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},,function(e,t){!function(){e.exports=this.NelioContent.data}()},,,,,,,,,function(e,t,n){"use strict";var r=n(11),o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(40),c=n(52),a=n(53),s="function"==typeof Symbol&&Symbol.iterator;function l(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function u(e,t,n,r){var i,a=typeof e;if("undefined"!==a&&"boolean"!==a||(e=null),null===e||"string"===a||"number"===a||"object"===a&&e.$$typeof===o)return n(r,e,""===t?"."+l(e,0):t),1;var d=0,m=""===t?".":t+":";if(Array.isArray(e))for(var f=0;f<e.length;f++)d+=u(i=e[f],m+l(i,f),n,r);else{var p=function(e){var t=e&&(s&&e[s]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(p){0;for(var b,g=p.call(e),O=0;!(b=g.next()).done;)d+=u(i=b.value,m+l(i,O++),n,r)}else if("object"===a){0;var j=""+e;c(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===j?"object with keys {"+Object.keys(e).join(", ")+"}":j,"")}}return d}var d=/\/+/g;function m(e){return(""+e).replace(d,"$&/")}var f,p,b=g,g=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},O=function(e){c(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function j(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function h(e,t,n){var o,c,a=e.result,s=e.keyPrefix,l=e.func,u=e.context,d=l.call(u,t,e.count++);Array.isArray(d)?E(d,a,n,i.thatReturnsArgument):null!=d&&(r.isValidElement(d)&&(o=d,c=s+(!d.key||t&&t.key===d.key?"":m(d.key)+"/")+n,d=r.cloneElement(o,{key:c},void 0!==o.props?o.props.children:void 0)),a.push(d))}function E(e,t,n,r,o){var i="";null!=n&&(i=m(n)+"/");var c=j.getPooled(t,i,r,o);!function(e,t,n){null==e||u(e,"",t,n)}(e,h,c),j.release(c)}j.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f=function(e,t,n,r){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)},(p=j).instancePool=[],p.getPooled=f||b,p.poolSize||(p.poolSize=10),p.release=O;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;c(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)E(e[n],t,n,i.thatReturnsArgument);return t}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,c,a){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,c,a],u=0;(s=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";var r=n(40);e.exports=r},function(e,t,n){"use strict";function r(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(r)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){!function(){e.exports=this.NelioContent.taskEditor}()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Gn})),n.d(t,"EditorialComments",(function(){return xr})),n.d(t,"EditorialTasks",(function(){return Dr})),n.d(t,"ExternalFeaturedImage",(function(){return Vr})),n.d(t,"Notifications",(function(){return Yr})),n.d(t,"ReferenceEditor",(function(){return Xr})),n.d(t,"References",(function(){return fo})),n.d(t,"QualityAnalysis",(function(){return vo})),n.d(t,"QualityAnalysisSummary",(function(){return Oo})),n.d(t,"SocialMediaMetabox",(function(){return ri})),n.d(t,"SocialMediaSummary",(function(){return ci})),n.d(t,"SocialMediaSidebar",(function(){return pi})),n.d(t,"SocialMediaTools",(function(){return gi})),n.d(t,"registerQualityCheck",(function(){return Ei})),n.d(t,"deregisterQualityCheck",(function(){return yi})),n.d(t,"updateQualityCheckSettings",(function(){return vi})),n.d(t,"withPanelToggling",(function(){return Xe})),n.d(t,"processHtml",(function(){return Je}));var r={};n.r(r),n.d(r,"setEditorialCommentInputValue",(function(){return F})),n.d(r,"createEditorialComment",(function(){return B})),n.d(r,"deleteEditorialComment",(function(){return G})),n.d(r,"markEditorialCommentAsSynching",(function(){return V})),n.d(r,"markEditorialCommentAsDeleting",(function(){return Q})),n.d(r,"editExternalFeaturedImage",(function(){return K})),n.d(r,"cancelEditionOfExternalFeaturedImage",(function(){return q})),n.d(r,"setExternalFeaturedImage",(function(){return Y})),n.d(r,"removeExternalFeaturedImage",(function(){return H})),n.d(r,"setExternalFeaturedImageUrlField",(function(){return $})),n.d(r,"setExternalFeaturedImageAltField",(function(){return z})),n.d(r,"setPost",(function(){return re})),n.d(r,"setPostId",(function(){return oe})),n.d(r,"setTitle",(function(){return ie})),n.d(r,"setExcerpt",(function(){return ce})),n.d(r,"setContent",(function(){return ae})),n.d(r,"setDate",(function(){return se})),n.d(r,"setAuthor",(function(){return le})),n.d(r,"setCategories",(function(){return ue})),n.d(r,"setPermalink",(function(){return de})),n.d(r,"setFollowers",(function(){return me})),n.d(r,"setFeaturedImage",(function(){return fe})),n.d(r,"removeFeaturedImage",(function(){return pe})),n.d(r,"setStatus",(function(){return be})),n.d(r,"setTags",(function(){return ge})),n.d(r,"enableAutoShare",(function(){return Oe})),n.d(r,"markAsLoadingPostItems",(function(){return je})),n.d(r,"loadPostItems",(function(){return he})),n.d(r,"updateDatesInPostRelatedItems",(function(){return Ee})),n.d(r,"markQualityAnalysisAsFullyIntegrated",(function(){return ye})),n.d(r,"setPostQualitySettings",(function(){return ve})),n.d(r,"updateQualityCheckItem",(function(){return xe})),n.d(r,"addQualityCheckType",(function(){return _e})),n.d(r,"removeQualityCheckType",(function(){return Se})),n.d(r,"updateQualityCheckSettings",(function(){return Te})),n.d(r,"receiveReferences",(function(){return Ce})),n.d(r,"setSuggestedReferenceUrl",(function(){return Re})),n.d(r,"suggestReference",(function(){return De})),n.d(r,"suggestReferences",(function(){return Ne})),n.d(r,"discardReference",(function(){return Me})),n.d(r,"openReferenceEditor",(function(){return Ue})),n.d(r,"updateEditingReference",(function(){return Le})),n.d(r,"closeReferenceEditor",(function(){return Fe})),n.d(r,"markReferenceAsLoading",(function(){return Be})),n.d(r,"markReferenceAsSaving",(function(){return Ge})),n.d(r,"saveAndCloseEditingReference",(function(){return Ve})),n.d(r,"saveReference",(function(){return Qe})),n.d(r,"setReferencesActiveTab",(function(){return Ke})),n.d(r,"setPanelSettings",(function(){return qe})),n.d(r,"togglePanel",(function(){return Ye})),n.d(r,"setEditorToClassic",(function(){return He})),n.d(r,"includeAuthorInFollowers",(function(){return $e})),n.d(r,"savePostAndGenerateTimeline",(function(){return pt})),n.d(r,"generateTimeline",(function(){return bt})),n.d(r,"clearTimeline",(function(){return gt})),n.d(r,"deleteSocialMessage",(function(){return Ot})),n.d(r,"markSocialMessageAsDeleting",(function(){return jt})),n.d(r,"markTimelineAsGenerating",(function(){return ht})),n.d(r,"markTimelineAsClearing",(function(){return Et})),n.d(r,"markTaskAsCompleted",(function(){return St})),n.d(r,"deleteEditorialTask",(function(){return Tt})),n.d(r,"markEditorialTaskAsSynching",(function(){return kt})),n.d(r,"markEditorialTaskAsDeleting",(function(){return At}));var o={};n.r(o),n.d(o,"getReferenceByUrl",(function(){return Dt}));var i={};n.r(i),n.d(i,"getEditorialCommentInputValue",(function(){return Mt})),n.d(i,"isDeletingEditorialComment",(function(){return Ut})),n.d(i,"isSynchingEditorialComment",(function(){return Lt})),n.d(i,"isRetrievingEditorialComments",(function(){return Ft})),n.d(i,"getExternalFeaturedImageView",(function(){return Bt})),n.d(i,"getExternalFeaturedImageUrl",(function(){return Gt})),n.d(i,"getExternalFeaturedImageAlt",(function(){return Vt})),n.d(i,"getExternalFeaturedImageUrlField",(function(){return Qt})),n.d(i,"getExternalFeaturedImageAltField",(function(){return Kt})),n.d(i,"isPostReady",(function(){return qt})),n.d(i,"getPost",(function(){return Yt})),n.d(i,"getPostId",(function(){return Ht})),n.d(i,"getPostType",(function(){return $t})),n.d(i,"getTitle",(function(){return zt})),n.d(i,"getExcerpt",(function(){return Wt})),n.d(i,"getContent",(function(){return Xt})),n.d(i,"getDate",(function(){return Jt})),n.d(i,"getAuthorId",(function(){return Zt})),n.d(i,"getCategories",(function(){return en})),n.d(i,"getPermalink",(function(){return tn})),n.d(i,"getPermalinkTemplate",(function(){return nn})),n.d(i,"getFollowers",(function(){return rn})),n.d(i,"getFeaturedImageId",(function(){return on})),n.d(i,"getFeaturedImageSrc",(function(){return cn})),n.d(i,"getStatus",(function(){return an})),n.d(i,"getImages",(function(){return sn})),n.d(i,"getTags",(function(){return ln})),n.d(i,"isAutoShareEnabled",(function(){return un})),n.d(i,"getPostQualitySettings",(function(){return mn})),n.d(i,"isQualityAnalysisFullyIntegrated",(function(){return fn})),n.d(i,"getOverallPostQualityStatus",(function(){return pn})),n.d(i,"getQualityCheckStatus",(function(){return bn})),n.d(i,"getQualityCheckRationale",(function(){return gn})),n.d(i,"getQualityCheckTypes",(function(){return On})),n.d(i,"getQualityCheckType",(function(){return jn})),n.d(i,"getReferencesActiveTab",(function(){return hn})),n.d(i,"getReferenceByUrl",(function(){return En})),n.d(i,"getSuggestedReferences",(function(){return yn})),n.d(i,"getExternalReferences",(function(){return vn})),n.d(i,"isReferenceLoading",(function(){return xn})),n.d(i,"isReferenceSaving",(function(){return _n})),n.d(i,"isReferenceEditorVisible",(function(){return Sn})),n.d(i,"getEditingReference",(function(){return Tn})),n.d(i,"getSuggestedReferenceUrl",(function(){return kn})),n.d(i,"isClassicEditor",(function(){return An})),n.d(i,"getPanelStatuses",(function(){return wn})),n.d(i,"isPanelOpen",(function(){return Pn})),n.d(i,"shouldAuthorBeFollower",(function(){return In})),n.d(i,"isTimelineBusy",(function(){return Cn})),n.d(i,"isGeneratingTimeline",(function(){return Rn})),n.d(i,"isClearingTimeline",(function(){return Dn})),n.d(i,"isSocialMessageBeingDeleted",(function(){return Nn})),n.d(i,"isRetrievingSocialMessages",(function(){return Mn})),n.d(i,"isEditorialTaskBeingDeleted",(function(){return Un})),n.d(i,"isEditorialTaskBeingSynched",(function(){return Ln})),n.d(i,"isRetrievingEditorialTasks",(function(){return Fn}));var c=n(2),a=n(4),s=(n(42),n(7)),l=n(13),u=n.n(l),d=n(8),m=n.n(d),f=n(3);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={author:0,categories:[],content:"",date:!1,excerpt:"",excludedFromReshare:!1,featuredImage:"",followers:[],imageId:0,imageSrc:"",isAutoShareEnabled:!0,status:"draft",tags:[],thumbnailSrc:"",title:""};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/img[^>]*src="[^"]+"|img[^>]*src='[^']+'/gi)||[];return Object(f.uniq)(t)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=Object(c.combineReducers)({comments:function(e,t){switch(e||(e={synching:[],deleting:[],input:"",isRetrievingComments:!1}),t.type){case"SET_EDITORIAL_COMMENT_INPUT_VALUE":return b(b({},e),{},{input:t.value});case"MARK_EDITORIAL_COMMENT_AS_SYNCHING":return b(b({},e),{},{synching:t.isSynching?[].concat(u()(e.synching),[t.commentId]):Object(f.without)(e.synching,t.commentId)});case"MARK_EDITORIAL_COMMENT_AS_DELETING":return b(b({},e),{},{deleting:t.isDeleting?[].concat(u()(e.deleting),[t.commentId]):Object(f.without)(e.deleting,t.commentId)});case"MARK_AS_LOADING_POST_ITEMS":return b(b({},e),{},{isRetrievingComments:t.isLoading})}return e},externalFeaturedImage:function(e,t){switch(e||(e={view:"no-image",fields:{url:"",alt:""},imageUrl:"",imageAlt:""}),t.type){case"SET_EXTERNAL_FEATURED_IMAGE":return{view:"image",fields:{url:t.url,alt:t.altText},imageUrl:t.url,imageAlt:t.altText};case"REMOVE_EXTERNAL_FEATURED_IMAGE":return{view:"no-image",fields:{url:"",alt:""},imageUrl:"",imageAlt:""};case"SET_EXTERNAL_FEATURED_IMAGE_URL_FIELD":return O(O({},e),{},{fields:O(O({},e.fields),{},{url:t.url})});case"SET_EXTERNAL_FEATURED_IMAGE_ALT_FIELD":return O(O({},e),{},{fields:O(O({},e.fields),{},{alt:t.altText})});case"EDIT_EXTERNAL_FEATURED_IMAGE":return O(O({},e),{},{view:"edit-image"});case"CANCEL_EDITION_OF_EXTERNAL_FEATURED_IMAGE":return O(O({},e),{},{view:e.imageUrl?"image":"no-image",fields:{url:e.imageUrl,alt:e.imageAlt}})}return e},post:function(e,t){switch(e||(e=E),t.type){case"SET_POST_ID":return e.id?e:h(h({},e),{},{id:t.id});case"SET_POST":var n=t.post||{},r=n.content,o=n.featuredImage;return h(h(h({},E),n),{},{content:r,featuredImage:"none"===o?"":o,images:y(r)});case"SET_TITLE":return h(h({},e),{},{title:t.title});case"SET_EXCERPT":return h(h({},e),{},{excerpt:t.excerpt});case"SET_CONTENT":return h(h({},e),{},{content:t.content,images:y(t.content)});case"SET_DATE":return h(h({},e),{},{date:t.date});case"SET_AUTHOR":return h(h({},e),{},{author:t.authorId,authorName:t.authorName});case"SET_CATEGORIES":return h(h({},e),{},{categories:t.categories});case"SET_PERMALINK":return h(h({},e),{},{permalink:t.permalink});case"SET_FEATURED_IMAGE":return h(h({},e),{},{featuredImage:t.imageSrc,imageId:t.imageId,imageSrc:t.imageSrc,thumbnailSrc:t.thumbnailSrc});case"SET_FOLLOWERS":return h(h({},e),{},{followers:t.followers});case"SET_STATUS":return h(h({},e),{},{status:t.status});case"SET_TAGS":return h(h({},e),{},{tags:t.tags});case"ENABLE_AUTO_SHARE":return h(h({},e),{},{excludedFromReshare:!t.isAutoShareEnabled,isAutoShareEnabled:t.isAutoShareEnabled})}return e},postQuality:function(e,t){switch(e||(e={checks:{},isFullyIntegrated:!1,settings:{allowedBads:1,allowedImprovables:2,unacceptableImprovables:4}}),t.type){case"REMOVE_QUALITY_CHECK_TYPE":return x(x({},e),{},{checks:Object(f.omit)(e.checks,t.name)});case"MARK_QUALITY_ANALYSIS_AS_FULLY_INTEGRATED":return x(x({},e),{},{isFullyIntegrated:t.isFullyIntegrated});case"UPDATE_QUALITY_CHECK_ITEM":return x(x({},e),{},{checks:x(x({},e.checks),{},m()({},t.name,{status:t.status,text:t.text}))});case"SET_POST_QUALITY_SETTINGS":var n=x({allowedBads:e.settings.allowedBads,allowedImprovables:e.settings.allowedImprovables,unacceptableImprovables:e.settings.unacceptableImprovables},t.settings);return x(x({},e),{},{settings:{allowedBads:n.allowedBads,allowedImprovables:n.allowedImprovables,unacceptableImprovables:n.unacceptableImprovables}})}return e},qualityCheckTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUALITY_CHECK_TYPE":return S(S({},e),{},m()({},t.definition.name,t.definition));case"REMOVE_QUALITY_CHECK_TYPE":return e[t.name]?Object(f.omit)(e,t.name):e;case"UPDATE_QUALITY_CHECK_SETTINGS":return e[t.name]?S(S({},e),{},m()({},t.name,S(S({},e[t.name]),{},{settings:S(S({},e[t.name].settings),t.settings)}))):e}return e},references:function(e,t){switch(e||(e={activeTab:"suggested",byUrl:{},byType:{external:[],suggested:[]},status:{loading:[],saving:[]},editing:!1,suggestedUrl:""}),t.type){case"RECEIVE_REFERENCES":return k(k({},e),{},{byUrl:k(k({},e.byUrl),Object(f.keyBy)(t.references,"url"))});case"SET_POST":return k(k({},e),{},{byType:k(k({},e.byType),{},{external:Object(s.getExternalReferences)(t.post.content)})});case"SET_CONTENT":return k(k({},e),{},{byType:k(k({},e.byType),{},{external:Object(s.getExternalReferences)(t.content)})});case"SET_SUGGESTED_REFERENCE_URL":return k(k({},e),{},{suggestedUrl:t.url});case"SUGGEST_REFERENCE":var n=e.byType.suggested;return k(k({},e),{},{byType:k(k({},e.byType),{},{suggested:n.includes(t.url)?n:[].concat(u()(n),[t.url])})});case"SUGGEST_REFERENCES":return k(k({},e),{},{byType:k(k({},e.byType),{},{suggested:Object(f.uniq)([].concat(u()(e.byType.suggested),u()(t.urls)))})});case"DISCARD_REFERENCE":return k(k({},e),{},{byType:k(k({},e.byType),{},{suggested:Object(f.without)(e.byType.suggested,t.url)})});case"OPEN_REFERENCE_EDITOR":return k(k({},e),{},{editing:t.reference});case"UPDATE_EDITING_REFERENCE":return k(k({},e),{},{editing:k(k({},e.editing),t.attributes)});case"CLOSE_REFERENCE_EDITOR":return k(k({},e),{},{editing:!1});case"MARK_REFERENCE_AS_LOADING":return k(k({},e),{},{status:k(k({},e.status),{},{loading:t.isLoading?[].concat(u()(e.status.loading),[t.referenceUrl]):Object(f.without)(e.status.loading,t.referenceUrl)})});case"MARK_REFERENCE_AS_SAVING":return k(k({},e),{},{status:k(k({},e.status),{},{saving:t.isSaving?[].concat(u()(e.status.saving),[t.referenceUrl]):Object(f.without)(e.status.saving,t.referenceUrl)})});case"SET_REFERENCES_ACTIVE_TAB":return k(k({},e),{},{activeTab:t.tab})}return e},settings:function(e,t){switch(e||(e={isClassicEditor:!1,panels:{},shouldAuthorBeFollower:!1}),t.type){case"SET_EDITOR_TO_CLASSIC":return w(w({},e),{},{isClassicEditor:t.isClassicEditor});case"PANEL_SETTINGS":return w(w({},e),{},{panels:w({},t.settings)});case"TOGGLE_PANEL":return e.panels[t.panelName]===t.isOpen?e:w(w({},e),{},{panels:w(w({},e.panels),{},m()({},t.panelName,t.isOpen))});case"INCLUDE_AUTHOR_IN_FOLLOWERS":return w(w({},e),{},{shouldAuthorBeFollower:t.shouldAuthorBeFollower})}return e},social:function(e,t){switch(e||(e={deleting:[],timelineStatus:!1,isRetrievingSocialMessages:!1}),t.type){case"MARK_SOCIAL_MESSAGE_AS_DELETING":return I(I({},e),{},{deleting:t.isDeleting?[].concat(u()(e.deleting),[t.messageId]):Object(f.without)(e.deleting,t.messageId)});case"MARK_TIMELINE_AS_GENERATING":return e.timelineStatus&&"generating"!==e.timelineStatus?e:I(I({},e),{},{timelineStatus:!!t.isGenerating&&"generating"});case"MARK_TIMELINE_AS_CLEARING":return e.timelineStatus&&"clearing"!==e.timelineStatus?e:I(I({},e),{},{timelineStatus:!!t.isClearing&&"clearing"});case"MARK_AS_LOADING_POST_ITEMS":return I(I({},e),{},{isRetrievingSocialMessages:t.isLoading})}return e},tasks:function(e,t){switch(e||(e={synching:[],deleting:[],isRetrievingTasks:!1}),t.type){case"MARK_EDITORIAL_TASK_AS_SYNCHING":return R(R({},e),{},{synching:t.isSynching?[].concat(u()(e.synching),[t.taskId]):Object(f.without)(e.synching,t.taskId)});case"MARK_EDITORIAL_TASK_AS_DELETING":return R(R({},e),{},{deleting:t.isDeleting?[].concat(u()(e.deleting),[t.taskId]):Object(f.without)(e.deleting,t.taskId)});case"MARK_AS_LOADING_POST_ITEMS":return R(R({},e),{},{isRetrievingTasks:t.isLoading})}return e}}),N=n(9),M=n.n(N),U=M.a.mark(B),L=M.a.mark(G);function F(e){return{type:"SET_EDITORIAL_COMMENT_INPUT_VALUE",value:e}}function B(e){var t,n,r;return M.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(a.dispatch)("nelio-content/data","receiveComments",e);case 2:return o.next=4,Object(a.dispatch)("nelio-content/edit-post","markEditorialCommentAsSynching",e.id,!0);case 4:return o.prev=4,o.next=7,Object(a.select)("nelio-content/data","getSiteId");case 7:return t=o.sent,o.next=10,Object(a.select)("nelio-content/data","getAuthenticationToken");case 10:return n=o.sent,o.next=13,Object(a.apiFetch)({url:"https://api.neliocontent.com/v1/site/".concat(t,"/comment"),method:"POST",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(n)},data:e});case 13:return r=o.sent,o.next=16,Object(a.dispatch)("nelio-content/data","receiveComments",r);case 16:return o.prev=16,o.next=19,Object(a.apiFetch)({path:"/nelio-content/v1/notifications/comment",method:"POST",data:r});case 19:o.next=23;break;case 21:o.prev=21,o.t0=o.catch(16);case 23:o.next=29;break;case 25:return o.prev=25,o.t1=o.catch(4),o.next=29,Object(a.dispatch)("nelio-content/data","removeComment",e.id);case 29:return o.next=31,Object(a.dispatch)("nelio-content/edit-post","markEditorialCommentAsSynching",e.id,!1);case 31:case"end":return o.stop()}}),U,null,[[4,25],[16,21]])}function G(e){var t,n;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(a.select)("nelio-content/data","getComment",e);case 2:if(r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,Object(a.dispatch)("nelio-content/edit-post","markEditorialCommentAsDeleting",e,!0);case 7:return r.prev=7,r.next=10,Object(a.select)("nelio-content/data","getSiteId");case 10:return t=r.sent,r.next=13,Object(a.select)("nelio-content/data","getAuthenticationToken");case 13:return n=r.sent,r.next=16,Object(a.apiFetch)({url:"https://api.neliocontent.com/v1/site/".concat(t,"/comment/").concat(e),method:"DELETE",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(n)}});case 16:return r.next=18,Object(a.dispatch)("nelio-content/data","deleteComment",e);case 18:r.next=22;break;case 20:r.prev=20,r.t0=r.catch(7);case 22:return r.next=24,Object(a.dispatch)("nelio-content/edit-post","markEditorialCommentAsDeleting",e,!1);case 24:case"end":return r.stop()}}),L,null,[[7,20]])}function V(e,t){return{type:"MARK_EDITORIAL_COMMENT_AS_SYNCHING",commentId:e,isSynching:t}}function Q(e,t){return{type:"MARK_EDITORIAL_COMMENT_AS_DELETING",commentId:e,isDeleting:t}}function K(){return{type:"EDIT_EXTERNAL_FEATURED_IMAGE"}}function q(){return{type:"CANCEL_EDITION_OF_EXTERNAL_FEATURED_IMAGE"}}function Y(e,t){return{type:"SET_EXTERNAL_FEATURED_IMAGE",url:e,altText:t}}function H(){return{type:"REMOVE_EXTERNAL_FEATURED_IMAGE"}}function $(e){return{type:"SET_EXTERNAL_FEATURED_IMAGE_URL_FIELD",url:e}}function z(e){return{type:"SET_EXTERNAL_FEATURED_IMAGE_ALT_FIELD",altText:e}}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=M.a.mark(ue),Z=M.a.mark(he),ee=M.a.mark(Ee),te="nelio-content/edit-post",ne="nelio-content/data";function re(e){return{type:"SET_POST",post:e}}function oe(e){return{type:"SET_POST_ID",id:e}}function ie(e){return{type:"SET_TITLE",title:e}}function ce(e){return{type:"SET_EXCERPT",excerpt:e}}function ae(e){return{type:"SET_CONTENT",content:e}}function se(e){return{type:"SET_DATE",date:e}}function le(e,t){return{type:"SET_AUTHOR",authorId:e,authorName:t}}function ue(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{type:"SET_CATEGORIES",categories:e});case 1:case"end":return t.stop()}}),J)}function de(e){return{type:"SET_PERMALINK",permalink:e}}function me(e){return{type:"SET_FOLLOWERS",followers:e}}function fe(e,t){return{type:"SET_FEATURED_IMAGE",imageId:e,imageSrc:t,thumbnailSrc:t}}function pe(){return{type:"REMOVE_FEATURED_IMAGE"}}function be(e){return{type:"SET_STATUS",status:e}}function ge(e){return{type:"SET_TAGS",tags:e}}function Oe(e){return{type:"ENABLE_AUTO_SHARE",isAutoShareEnabled:e}}function je(e){return{type:"MARK_AS_LOADING_POST_ITEMS",isLoading:e}}function he(){var e;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.select)(te,"isPostReady");case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Object(a.select)(te,"getPostId");case 7:if(e=t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,Object(a.dispatch)(te,"markAsLoadingPostItems",!0);case 12:return t.next=14,Object(a.dispatch)(ne,"loadPostRelatedItems",e);case 14:return t.next=16,Object(a.dispatch)(te,"updateDatesInPostRelatedItems");case 16:return t.next=18,Object(a.dispatch)(te,"markAsLoadingPostItems",!1);case 18:case"end":return t.stop()}}),Z)}function Ee(){var e,t,n,r,o,i,c,l;return M.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(a.select)(te,"getPost");case 2:if(e=u.sent,t=e.status,n=e.date,r=e.id,"publish"!==t&&n){u.next=6;break}return u.abrupt("return");case 6:return u.next=8,Object(a.select)(ne,"getSocialMessagesRelatedToPost",r);case 8:return o=u.sent,i=Object(f.map)(o,(function(e){return X(X({},e),{},{schedule:Object(s.getSocialMessageSchedule)({baseDatetime:n,dateType:e.dateType,dateValue:e.dateValue,timeType:e.timeType,timeValue:e.timeValue})})})),u.next=12,Object(a.select)(ne,"getTasksRelatedToPost",r);case 12:if(c=u.sent,l=Object(f.map)(c,(function(e){return X(X({},e),{},{dateDue:Object(s.getTaskDateDue)({baseDatetime:n,dateType:e.dateType,dateValue:e.dateValue})})})),Object(s.isEmpty)(i)){u.next=17;break}return u.next=17,Object(a.dispatch)(ne,"receiveSocialMessages",i);case 17:if(Object(s.isEmpty)(l)){u.next=20;break}return u.next=20,Object(a.dispatch)(ne,"receiveTasks",l);case 20:case"end":return u.stop()}}),ee)}function ye(e){return{type:"MARK_QUALITY_ANALYSIS_AS_FULLY_INTEGRATED",isFullyIntegrated:e}}function ve(e){return{type:"SET_POST_QUALITY_SETTINGS",settings:e}}function xe(e,t,n){return{type:"UPDATE_QUALITY_CHECK_ITEM",name:e,status:t,text:n}}function _e(e){return{type:"ADD_QUALITY_CHECK_TYPE",definition:e}}function Se(e){return{type:"REMOVE_QUALITY_CHECK_TYPE",name:e}}function Te(e,t){return{type:"UPDATE_QUALITY_CHECK_SETTINGS",name:e,settings:t}}var ke=M.a.mark(Ue),Ae=M.a.mark(Ve),we=M.a.mark(Qe);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){return{type:"RECEIVE_REFERENCES",references:Object(f.castArray)(e)}}function Re(e){return{type:"SET_SUGGESTED_REFERENCE_URL",url:e}}function De(e){return{type:"SUGGEST_REFERENCE",url:e}}function Ne(e){return{type:"SUGGEST_REFERENCES",urls:Object(f.castArray)(e)}}function Me(e){return{type:"DISCARD_REFERENCE",url:e}}function Ue(e){var t;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.select)("nelio-content/edit-post","getReferenceByUrl",e);case 2:return t=n.sent,n.abrupt("return",{type:"OPEN_REFERENCE_EDITOR",reference:Ie({id:e,url:e},t||{})});case 4:case"end":return n.stop()}}),ke)}function Le(e){return{type:"UPDATE_EDITING_REFERENCE",attributes:e}}function Fe(){return{type:"CLOSE_REFERENCE_EDITOR"}}function Be(e,t){return{type:"MARK_REFERENCE_AS_LOADING",referenceUrl:e,isLoading:t}}function Ge(e,t){return{type:"MARK_REFERENCE_AS_SAVING",referenceUrl:e,isSaving:t}}function Ve(){var e;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.select)("nelio-content/edit-post","getEditingReference");case 2:return e=t.sent,t.next=5,Object(a.dispatch)("nelio-content/edit-post","saveReference",e);case 5:return t.next=7,Object(a.dispatch)("nelio-content/edit-post","closeReferenceEditor");case 7:case"end":return t.stop()}}),Ae)}function Qe(e){var t;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.dispatch)("nelio-content/edit-post","markReferenceAsSaving",e.id,!0);case 2:return n.prev=2,n.next=5,Object(a.apiFetch)({path:"/nelio-content/v1/reference/".concat(e.id),method:"PUT",data:Object(f.omitBy)(e,s.isEmpty)});case 5:return t=n.sent,n.next=8,Object(a.dispatch)("nelio-content/edit-post","receiveReferences",t);case 8:n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:return n.next=14,Object(a.dispatch)("nelio-content/edit-post","markReferenceAsSaving",e.id,!1);case 14:case"end":return n.stop()}}),we,null,[[2,10]])}function Ke(e){return{type:"SET_REFERENCES_ACTIVE_TAB",tab:e}}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"PANEL_SETTINGS",settings:e}}function Ye(e,t){return{type:"TOGGLE_PANEL",panelName:e,isOpen:t}}function He(e){return{type:"SET_EDITOR_TO_CLASSIC",isClassicEditor:e}}function $e(e){return{type:"INCLUDE_AUTHOR_IN_FOLLOWERS",shouldAuthorBeFollower:e}}var ze=n(6),We=["#comment","#text","ncshare","a","abbr","acronym","address","b","big","code","del","em","i","ins","mark","q","s","samp","small","span","strike","strong","sub","sup","time","u","var","wbr"];function Xe(e){return Object(ze.compose)(Object(c.withSelect)((function(t){return{isPanelOpen:(0,t("nelio-content/edit-post").isPanelOpen)(e)}})),Object(c.withDispatch)((function(t,n){var r=n.isPanelOpen,o=t("nelio-content/edit-post").togglePanel;return{togglePanel:function(){return o(e,!r)}}})))}function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");t.innerHTML=e,tt(t.getElementsByTagName("script")),tt(t.getElementsByTagName("link")),tt(t.getElementsByTagName("img")),tt(t.getElementsByTagName("pre")),tt(t.getElementsByTagName("style")),Object(f.forEach)(t.getElementsByTagName("a"),(function(e){return nt(e.getAttribute("href"),et(e))}));var n=rt(t);return tt(t.getElementsByTagName("figcaption")),tt(t.getElementsByTagName("caption")),tt(t.querySelectorAll("li li")),{clean:et(t),highlights:n,top:Object(f.union)(Object(f.map)(t.getElementsByTagName("h1"),et),Object(f.map)(t.getElementsByTagName("h2"),et),Object(f.map)(t.getElementsByTagName("h3"),et),Object(f.map)(t.getElementsByTagName("strong"),et))}}function Ze(e){return e?e.nodeName.toLowerCase():""}function et(e){if(!e)return"";if("br"===Ze(e))return"\n";var t=u()(e.childNodes);if(!t.length){var n=e.textContent||e.innerText||"";return"pre"===Ze(e)?n:n.replace(/\r?\n/g,"")}return t.reverse(),Object(f.reduce)(t,(function(e,t){var n=et(t);switch(Ze(t)){case"ol":case"p":case"ul":return n+(e="\n\n".concat(e).replace(/^\n+/,"\n\n"));case"article":case"aside":case"blockquote":case"div":case"h1":case"h2":case"h3":case"h4":case"h5":case"li":return n+"\n"+e;default:return n+e}}),"")}function tt(e){Object(f.forEach)(e,(function(e){return e&&e.parentNode&&e.parentNode.removeChild(e)}))}function nt(e,t){var n=document.createElement("div"),r=document.createElement("a");return r.setAttribute("href",e),r.textContent=t,n.appendChild(r),n.innerHTML}function rt(e){if(!e)return[];var t=u()(e.querySelectorAll("ncshare"));if(!t.length)return[];for(var n=[],r=0;r<t.length;){var o=[t[r]];for(++r;ot(t[r-1],t[r]);)o.push(t[r]),++r;n.push(o)}return n.map((function(e){var t=Object(f.map)(e,et),n=Object(f.map)(e,(function(e){if(!e.querySelector("a"))return e.innerHTML;var t=function(e){if(!e)return!1;for(var t=e.parentNode;t;t=t.parentNode)if("a"===Ze(t))return t.getAttribute("href")||!1;return!1}(e),n=et(e);return t?nt(t,n):n}));return{text:Object(f.trim)(t.join("")),html:Object(f.trim)(n.join(""))}}))}function ot(e,t){if(!e||!t)return!1;var n=u()(e.classList),r=u()(t.classList);if((n.length||r.length)&&!Object(f.intersection)(n,r).length)return!1;var o,i,c=function(e,t){var n,r;for(n=e.parentNode;n;n=n.parentNode)for(r=t.parentNode;r;r=r.parentNode)if(n===r)return n;return!1}(e,t);if(!c)return!1;for(o=e;it(o)&&o!==c;o=o.parentNode){for(i=t;it(i)&&i!==c;i=i.parentNode){if(o.nextSibling===i)return!0;if(i.previousSibling&&i.parentNode!==c)return!1}if(o.nextSibling&&o.parentNode!==c)return!1}return!1}function it(e){return!!e&&We.includes(Ze(e))}function ct(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=M.a.mark(pt),dt=M.a.mark(bt),mt=M.a.mark(gt),ft=M.a.mark(Ot);function pt(){var e,t,n;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(a.select)("nelio-content/edit-post","isGeneratingTimeline");case 2:if(!r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,Object(a.dispatch)("nelio-content/edit-post","markTimelineAsGenerating",!0);case 7:return r.next=9,Object(a.select)("nelio-content/edit-post","isClassicEditor");case 9:if(e=r.sent,r.prev=10,!e){r.next=20;break}return t=document.getElementById("post"),(n=document.createElement("input")).setAttribute("type","hidden"),n.setAttribute("name","_nc_auto_messages"),n.setAttribute("value","true"),t.appendChild(n),t.submit(),r.abrupt("return");case 20:return r.next=22,Object(a.dispatch)("core/editor","savePost");case 22:return r.next=24,Object(a.dispatch)("nelio-content/edit-post","markTimelineAsGenerating",!1);case 24:return r.next=26,Object(a.dispatch)("nelio-content/edit-post","generateTimeline");case 26:r.next=32;break;case 28:return r.prev=28,r.t0=r.catch(10),r.next=32,Object(a.dispatch)("nelio-content/edit-post","markTimelineAsGenerating",!1);case 32:case"end":return r.stop()}}),ut,null,[[10,28]])}function bt(){var e,t,n,r,o,i,c,s,l;return M.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(a.select)("nelio-content/edit-post","isGeneratingTimeline");case 2:if(!u.sent){u.next=5;break}return u.abrupt("return");case 5:return u.next=7,Object(a.dispatch)("nelio-content/edit-post","markTimelineAsGenerating",!0);case 7:return u.prev=7,u.next=10,Object(a.select)("nelio-content/edit-post","getPostId");case 10:return e=u.sent,u.next=13,Object(a.apiFetch)({path:"/nelio-content/v1/post/".concat(e,"?aws")});case 13:return t=u.sent,u.next=16,Object(a.select)("nelio-content/data","getSiteId");case 16:return n=u.sent,u.next=19,Object(a.select)("nelio-content/data","getAuthenticationToken");case 19:return r=u.sent,u.next=22,Object(a.apiFetch)({url:"https://api.neliocontent.com/v1/site/".concat(n,"/post/").concat(e,"/social/auto"),method:"POST",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(r)},data:lt(lt({},t),Je(t.content))});case 22:return o=u.sent,u.next=25,Object(a.select)("nelio-content/data","getSocialMessagesRelatedToPost",e,"id");case 25:i=u.sent,c=ct(i),u.prev=27,c.s();case 29:if((s=c.n()).done){u.next=35;break}return l=s.value,u.next=33,Object(a.dispatch)("nelio-content/data","deleteSocialMessage",l);case 33:u.next=29;break;case 35:u.next=40;break;case 37:u.prev=37,u.t0=u.catch(27),c.e(u.t0);case 40:return u.prev=40,c.f(),u.finish(40);case 43:return u.next=45,Object(a.dispatch)("nelio-content/data","receiveSocialMessages",o);case 45:u.next=49;break;case 47:u.prev=47,u.t1=u.catch(7);case 49:return u.next=51,Object(a.dispatch)("nelio-content/edit-post","markTimelineAsGenerating",!1);case 51:case"end":return u.stop()}}),dt,null,[[7,47],[27,37,40,43]])}function gt(){var e,t,n,r,o;return M.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(a.dispatch)("nelio-content/edit-post","markTimelineAsClearing",!0);case 2:return i.next=4,Object(a.select)("nelio-content/edit-post","getPostId");case 4:return e=i.sent,i.next=7,Object(a.select)("nelio-content/data","getSocialMessagesRelatedToPost",e,"id");case 7:t=i.sent,n=ct(t),i.prev=9,n.s();case 11:if((r=n.n()).done){i.next=17;break}return o=r.value,i.next=15,Object(a.dispatch)("nelio-content/edit-post","deleteSocialMessage",o);case 15:i.next=11;break;case 17:i.next=22;break;case 19:i.prev=19,i.t0=i.catch(9),n.e(i.t0);case 22:return i.prev=22,n.f(),i.finish(22);case 25:return i.next=27,Object(a.dispatch)("nelio-content/edit-post","markTimelineAsClearing",!1);case 27:case"end":return i.stop()}}),mt,null,[[9,19,22,25]])}function Ot(e){var t,n;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(a.select)("nelio-content/edit-post","isSocialMessageBeingDeleted",e);case 2:if(!r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,Object(a.dispatch)("nelio-content/edit-post","markSocialMessageAsDeleting",e,!0);case 7:return r.prev=7,r.next=10,Object(a.select)("nelio-content/data","getSiteId");case 10:return t=r.sent,r.next=13,Object(a.select)("nelio-content/data","getAuthenticationToken");case 13:return n=r.sent,r.next=16,Object(a.apiFetch)({url:"https://api.neliocontent.com/v1/site/".concat(t,"/social/").concat(e),method:"DELETE",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(n)}});case 16:return r.next=18,Object(a.dispatch)("nelio-content/data","deleteSocialMessage",e);case 18:r.next=22;break;case 20:r.prev=20,r.t0=r.catch(7);case 22:return r.next=24,Object(a.dispatch)("nelio-content/edit-post","markSocialMessageAsDeleting",e,!1);case 24:case"end":return r.stop()}}),ft,null,[[7,20]])}function jt(e,t){return{type:"MARK_SOCIAL_MESSAGE_AS_DELETING",messageId:e,isDeleting:t}}function ht(e){return{type:"MARK_TIMELINE_AS_GENERATING",isGenerating:e}}function Et(e){return{type:"MARK_TIMELINE_AS_CLEARING",isClearing:e}}var yt=M.a.mark(St),vt=M.a.mark(Tt);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t){var n,r,o,i,c;return M.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(a.select)("nelio-content/data","getTask",e);case 2:if(n=s.sent){s.next=5;break}return s.abrupt("return");case 5:return s.next=7,Object(a.dispatch)("nelio-content/edit-post","markEditorialTaskAsSynching",e,!0);case 7:return s.prev=7,r=_t(_t({},n),{},{completed:t}),s.next=11,Object(a.dispatch)("nelio-content/data","receiveTasks",r);case 11:return s.next=13,Object(a.select)("nelio-content/data","getSiteId");case 13:return o=s.sent,s.next=16,Object(a.select)("nelio-content/data","getAuthenticationToken");case 16:return i=s.sent,s.next=19,Object(a.apiFetch)({url:"https://api.neliocontent.com/v1/site/".concat(o,"/task/").concat(e),method:"PUT",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(i)},data:r});case 19:return c=s.sent,s.next=22,Object(a.dispatch)("nelio-content/data","receiveTasks",c);case 22:if(!c.completed){s.next=30;break}return s.prev=23,s.next=26,Object(a.apiFetch)({path:"/nelio-content/v1/notifications/task",method:"POST",data:_t({isNewTask:!1},c)});case 26:s.next=30;break;case 28:s.prev=28,s.t0=s.catch(23);case 30:s.next=36;break;case 32:return s.prev=32,s.t1=s.catch(7),s.next=36,Object(a.dispatch)("nelio-content/data","receiveTasks",n);case 36:return s.next=38,Object(a.dispatch)("nelio-content/edit-post","markEditorialTaskAsSynching",e,!1);case 38:case"end":return s.stop()}}),yt,null,[[7,32],[23,28]])}function Tt(e){var t,n;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(a.select)("nelio-content/data","getTask",e);case 2:if(r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,Object(a.dispatch)("nelio-content/edit-post","markEditorialTaskAsDeleting",e,!0);case 7:return r.prev=7,r.next=10,Object(a.select)("nelio-content/data","getSiteId");case 10:return t=r.sent,r.next=13,Object(a.select)("nelio-content/data","getAuthenticationToken");case 13:return n=r.sent,r.next=16,Object(a.apiFetch)({url:"https://api.neliocontent.com/v1/site/".concat(t,"/task/").concat(e),method:"DELETE",credentials:"omit",mode:"cors",headers:{Authorization:"Bearer ".concat(n)}});case 16:return r.next=18,Object(a.dispatch)("nelio-content/data","deleteTask",e);case 18:r.next=22;break;case 20:r.prev=20,r.t0=r.catch(7);case 22:return r.next=24,Object(a.dispatch)("nelio-content/edit-post","markEditorialTaskAsDeleting",e,!1);case 24:case"end":return r.stop()}}),vt,null,[[7,20]])}function kt(e,t){return{type:"MARK_EDITORIAL_TASK_AS_SYNCHING",taskId:e,isSynching:t}}function At(e,t){return{type:"MARK_EDITORIAL_TASK_AS_DELETING",taskId:e,isDeleting:t}}var wt=n(24);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=M.a.mark(Dt),Rt=M.a.mark(Nt);function Dt(e){var t,n,r;return M.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(a.dispatch)("nelio-content/edit-post","markReferenceAsLoading",e,!0);case 2:return o.prev=2,o.next=5,Object(a.apiFetch)({path:Object(wt.addQueryArgs)("/nelio-content/v1/reference/search",{url:e})});case 5:return t=o.sent,o.next=8,Object(a.dispatch)("nelio-content/edit-post","receiveReferences",t);case 8:if(n=t.status,r=t.isExternal,"pending"!==n||!r){o.next=12;break}return o.next=12,Nt(t);case 12:o.next=16;break;case 14:o.prev=14,o.t0=o.catch(2);case 16:return o.next=18,Object(a.dispatch)("nelio-content/edit-post","markReferenceAsLoading",e,!1);case 18:case"end":return o.stop()}}),Ct,null,[[2,14]])}function Nt(e){var t,n,r,o,i,c;return M.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(a.dispatch)("nelio-content/data","loadLink",e.url);case 3:return s.next=5,Object(a.select)("nelio-content/data","getSharedLinkData",e.url);case 5:return t=s.sent,n=t.author,r=t.date,o=t.title,i=t.twitter,c=It(It({},e),{},{author:n,date:r,title:o,twitter:i}),s.next=10,Object(a.dispatch)("nelio-content/edit-post","saveReference",c);case 10:s.next=14;break;case 12:s.prev=12,s.t0=s.catch(0);case 14:case"end":return s.stop()}}),Rt,null,[[0,12]])}function Mt(e){return e.comments.input}function Ut(e,t){return e.comments.deleting.includes(t)}function Lt(e,t){return e.comments.synching.includes(t)}function Ft(e){return e.comments.isRetrievingComments||!1}function Bt(e){return e.externalFeaturedImage.view}function Gt(e){return e.externalFeaturedImage.imageUrl}function Vt(e){return e.externalFeaturedImage.imageAlt}function Qt(e){return e.externalFeaturedImage.fields.url}function Kt(e){return e.externalFeaturedImage.fields.alt}function qt(e){return"auto-draft"!==e.post.status}function Yt(e){return e.post}function Ht(e){return e.post.id}function $t(e){return e.post.type}function zt(e){return e.post.title||""}function Wt(e){return e.post.excerpt||""}function Xt(e){return e.post.content||""}function Jt(e){return e.post.date||!1}function Zt(e){return e.post.author||0}function en(e){return e.post.categories||[]}function tn(e){return e.post.permalink||""}function nn(e){return e.post.permalinkTemplate}function rn(e){return e.post.followers||[]}function on(e){return e.post.imageId||0}function cn(e){return e.post.imageSrc||""}function an(e){return e.post.status||"draft"}function sn(e){return e.post.images||[]}function ln(e){return e.post.tags||[]}function un(e){return!!e.post.isAutoShareEnabled}var dn=n(1);function mn(e){return e.postQuality.settings}function fn(e){return e.postQuality.isFullyIntegrated||!1}function pn(e){var t=e.postQuality.checks,n=Object(f.size)(Object(f.filter)(t,{status:"good"})),r=Object(f.size)(Object(f.filter)(t,{status:"improvable"})),o=Object(f.size)(Object(f.filter)(t,{status:"bad"}));if(!n&&!r&&!o)return"unknown";if(e.postQuality.settings.allowedBads<o)return"bad";var i=o+r;if(e.postQuality.settings.unacceptableImprovables<i)return"bad";var c=e.postQuality.settings.allowedImprovables;return o||c<i?"improvable":i?"good":"perfect"}function bn(e,t){return(e.postQuality.checks[t]||{}).status||"unknown"}function gn(e,t){return(e.postQuality.checks[t]||{}).text||Object(dn._x)("Unknown status","text","nelio-content")}function On(e){return Object(f.values)(e.qualityCheckTypes)}function jn(e,t){return e.qualityCheckTypes[t]}function hn(e){return e.references.activeTab}function En(e,t){return e.references.byUrl[t]}function yn(e){return e.references.byType.suggested}function vn(e){return e.references.byType.external}function xn(e,t){return!e.references.byUrl[t]||e.references.status.loading.includes(t)}function _n(e,t){return e.references.status.saving.includes(t)}function Sn(e){return!!e.references.editing}function Tn(e){return e.references.editing}function kn(e){return e.references.suggestedUrl||""}function An(e){return e.settings.isClassicEditor}function wn(e){return e.settings.panels}function Pn(e,t){var n=e.settings.panels[t];return void 0===n||n}function In(e){return e.settings.shouldAuthorBeFollower}function Cn(e){return!!e.social.timelineStatus}function Rn(e){return"generating"===e.social.timelineStatus}function Dn(e){return"clearing"===e.social.timelineStatus}function Nn(e,t){return e.social.deleting.includes(t)}function Mn(e){return e.social.isRetrievingSocialMessages||!1}function Un(e,t){return e.tasks.deleting.includes(t)}function Ln(e,t){return e.tasks.synching.includes(t)}function Fn(e){return e.tasks.isRetrievingTasks||!1}var Bn=Object(c.registerStore)("nelio-content/edit-post",{actions:r,controls:a.controls,reducer:D,resolvers:o,selectors:i});!function(){(0,Object(c.dispatch)("nelio-content/edit-post").setPanelSettings)(Object(s.getValue)("panelSettings",{}));var e=Bn.getState().settings.panels;Bn.subscribe((function(){var t=Bn.getState().settings.panels;e!==t&&(e=t,Object(s.setValue)("panelSettings",t))}))}();var Gn=Bn,Vn=n(0),Qn=n(5);n(95);function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yn=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getEditorialCommentInputValue,r=t.getPostId,o=t.getPostType;return{value:n(),postId:r(),postType:o()}})),Hn=Object(c.withDispatch)((function(e,t){var n=t.value,r=t.postId,o=t.postType,i=e("nelio-content/edit-post"),c=i.setEditorialCommentInputValue,a=i.createEditorialComment;return{onChange:function(e){return c(e)},save:function(){var e=Object(f.trim)(n);Object(s.isEmpty)(e)||(c(""),a(qn(qn({},Object(s.createComment)()),{},{comment:e,postId:r,postType:o})))}}})),$n=Object(ze.compose)(Yn,Hn)((function(e){var t=e.value,n=e.onChange,r=e.save;return Object(Vn.createElement)("div",{className:"nelio-content-editorial-comments-input"},Object(Vn.createElement)(Qn.TextareaControl,{placeholder:Object(dn._x)("Write a comment and press enter to send","user","nelio-content"),className:"nelio-content-editorial-comments-input__textarea",value:t,onChange:n,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),r())}}))})),zn=n(20),Wn=n.n(zn),Xn=n(21),Jn=n.n(Xn),Zn=n(22),er=n.n(Zn),tr=n(23),nr=n.n(tr),rr=n(15),or=n.n(rr),ir=n(12),cr=n.n(ir),ar=n(25),sr=n.n(ar),lr=n(10),ur=n(14);n(96);function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=or()(e);if(t){var o=or()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nr()(this,n)}}var mr=function(e){er()(n,e);var t=dr(n);function n(e){var r;return Wn()(this,n),(r=t.call(this,e)).state=r.getDeletionState(),r}return Jn()(n,[{key:"updateDeletionState",value:function(){clearTimeout(this.state.timeout),this.setState(this.getDeletionState())}},{key:"getDeletionState",value:function(){var e=this,t=this.props,n=t.date,r=t.isCurrentUsers&&Math.abs(sr()().diff(n,"minutes"))<5;return{canBeDeleted:r,timeout:r&&setTimeout((function(){return e.updateDeletionState()}),6e4)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeout)}},{key:"render",value:function(){var e=this.props,t=e.authorId,n=e.authorName,r=e.comment,o=e.date,i=e.deleteComment,c=e.isBeingDeleted,a=e.isBeingSynched,s=e.isCurrentUsers,l=this.state.canBeDeleted;return Object(Vn.createElement)("div",{className:cr()({"nelio-content-editorial-comments-comment":!0,"nelio-content-editorial-comments-comment--is-mine":s,"nelio-content-editorial-comments-comment--is-being-deleted":c})},!s&&Object(Vn.createElement)("div",{className:"nelio-content-editorial-comments-comment__author-icon"},Object(Vn.createElement)(lr.AuthorIcon,{authorId:t})),Object(Vn.createElement)("div",null,Object(Vn.createElement)("div",{className:cr()({"nelio-content-editorial-comments-comment__bubble":!0,"nelio-content-editorial-comments-comment__bubble--is-mine":s})},r),Object(Vn.createElement)("div",{className:cr()({"nelio-content-editorial-comments-comment__extra":!0,"nelio-content-editorial-comments-comment__extra--is-mine":s})},a&&Object(dn._x)("Sending","text","nelio-content"),!a&&!s&&Object(Vn.createElement)("div",{className:"nelio-content-editorial-comments-comment__author"},n),!a&&Object(Vn.createElement)("div",{className:"nelio-content-editorial-comments-comment__date"},Object(ur.dateI18n)(Object(ur.__experimentalGetSettings)().formats.datetime,o))),(c||l)&&!a&&Object(Vn.createElement)("div",{className:"nelio-content-editorial-comments-comment__actions"},Object(Vn.createElement)(lr.DeleteButton,{isDeleting:c,onClick:i}))))}}]),n}(Vn.Component),fr=Object(c.withSelect)((function(e,t){var n=t.commentId,r=e("nelio-content/data"),o=r.getAuthor,i=r.getComment,c=r.getCurrentUserId,a=e("nelio-content/edit-post"),s=a.isDeletingEditorialComment,l=a.isSynchingEditorialComment,u=i(n)||{},d=c()===u.authorId,m=o(u.authorId)||{};return{authorId:u.authorId,authorName:m.name,date:u.date,isBeingDeleted:s(n),isBeingSynched:l(n),isCurrentUsers:d,comment:u.comment}})),pr=Object(c.withDispatch)((function(e,t){var n=t.commentId,r=e("nelio-content/edit-post").deleteEditorialComment;return{deleteComment:function(){return r(n)}}})),br=Object(ze.compose)(fr,pr)(mr),gr=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPostId;return{comments:(0,e("nelio-content/data").getCommentsRelatedToPost)(t(),"id")}}))((function(e){var t=e.comments,n=void 0===t?[]:t;return Object(Vn.createElement)("div",null,n.map((function(e){return Object(Vn.createElement)(br,{key:e,commentId:e})})))})),Or=n(17),jr=n.n(Or),hr=Object(ze.compose)(Object(c.withSelect)((function(e){var t=e("nelio-content/data"),n=t.canCurrentUserManagePlugin,r=t.getAdminUrl;return{hasProfiles:0<(0,t.getSocialProfileCount)(),canManagePlugin:n(),settingsUrl:r("admin.php",{page:"nelio-content-settings"})}})),Object(ze.createHigherOrderComponent)((function(e){return function(t){if(t.hasProfiles)return Object(Vn.createElement)(e,t);if(!t.canManagePlugin)return Object(Vn.createElement)("p",null,Object(dn._x)("Nelio Content helps you to engage with your audience by sharing your WordPress content on social media. Please ask the site manager to connect one or more social profiles to Nelio Content.","user","nelio-content"));var n=t.settingsUrl;return Object(Vn.createElement)("div",null,Object(Vn.createElement)("p",null,Object(dn._x)("Nelio Content helps you to engage with your audience by sharing your WordPress content on social media. Connect one or more social profiles and then refresh this page to use them.","user","nelio-content")),Object(Vn.createElement)("div",{style:{"text-align":"center"}},Object(Vn.createElement)(Qn.ExternalLink,{className:"components-button is-secondary",href:n},Object(dn._x)("Connect Profiles","command","nelio-content"))))}}),"withProfileCheck")),Er=Object(ze.compose)(Object(c.withSelect)((function(e){return{isSubscribed:(0,e("nelio-content/data").isSubscribed)()}})),Object(ze.createHigherOrderComponent)((function(e){return function(t){var n=t.isSubscribed,r=jr()(t,["isSubscribed"]);return n?Object(Vn.createElement)(e,r):Object(Vn.createElement)(Qn.ExternalLink,{href:Object(wt.addQueryArgs)(Object(dn.__)("https://neliosoftware.com/content/pricing/","nelio-content"),{utm_source:"wordpress",utm_medium:"plugin",utm_campaign:"free",utm_content:"post-editor"})},Object(dn._x)("Upgrade to Nelio Content Premium to unlock this feature.","user","nelio-content"))}}),"withSubscriptionCheck")),yr=Object(ze.compose)(Object(c.withSelect)((function(e){return{isPostReady:(0,e("nelio-content/edit-post").isPostReady)()}})),Object(ze.createHigherOrderComponent)((function(e){return function(t){var n=t.isPostReady,r=jr()(t,["isPostReady"]);return n?Object(Vn.createElement)(e,r):Object(Vn.createElement)(Vn.Fragment,null,Object(dn._x)("Please save post first to access this feature.","user","nelio-content"))}}),"withPostReadyCheck")),vr=function(e){return Object(ze.compose)(Object(c.withSelect)((function(t){var n=t("nelio-content/edit-post")[e];return{isLoadingStuff:!!n&&n()}})),Object(ze.createHigherOrderComponent)((function(e){return function(t){var n=t.isLoadingStuff,r=jr()(t,["isLoadingStuff"]);return n?Object(Vn.createElement)(lr.LoadingAnimation,{text:Object(dn._x)("Loading","text","nelio-content"),isSmall:!0}):Object(Vn.createElement)(e,r)}}),"withLoadingCheck"))},xr=Object(ze.compose)(Er,yr,vr("isRetrievingEditorialComments"))((function(){return Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(gr,null),Object(Vn.createElement)($n,null))})),_r=(n(97),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPostId,n=(0,e("nelio-content/data").getTasksRelatedToPost)(t());return{completed:Object(f.filter)(n,{completed:!0}).length,total:n.length}}))),Sr=Object(ze.ifCondition)((function(e){return!!e.total})),Tr=Object(ze.compose)(_r,Sr)((function(e){var t=e.completed,n=e.total;return Object(Vn.createElement)("div",{className:"nelio-content-tasks-progress"},Object(Vn.createElement)("div",{className:"nelio-content-tasks-progress__bar-background"},Object(Vn.createElement)("div",{className:cr()({"nelio-content-tasks-progress__bar":!0,"nelio-content-tasks-progress__bar--is-completed":t===n}),style:{width:"".concat(Math.round(100*t/n),"%")}})),Object(Vn.createElement)("div",{className:"nelio-content-tasks-progress__percentage"},Math.round(100*t/n),"%"))})),kr=(n(98),n(99),Object(c.withSelect)((function(e,t){var n=t.taskId,r=e("nelio-content/edit-post"),o=r.getPost,i=r.isEditorialTaskBeingDeleted,c=r.isEditorialTaskBeingSynched,a=e("nelio-content/data"),l=a.canCurrentUserEditTask,u=a.canCurrentUserDeleteTask,d=a.getAuthor,m=a.getCurrentUserId,f=a.getTask,p=a.getToday,b=f(n)||{},g=d(b.assigneeId)||{},O=m()===b.assigneeId,j=g.name||Object(dn._x)("Unknown Assignee","text","nelio-content"),h=u(b),E=l(b),y=o(),v=c(n),x=!b.completed&&!v&&Object(s.getTaskDateDue)({baseDatetime:null==y?void 0:y.date,dateType:b.dateType,dateValue:b.dateValue})<p();return{assignee:O?Object(dn._x)("You","text","nelio-content"):j,canCompleteTask:E,canDeleteTask:h,color:b.color||"default",completed:!!b.completed,description:b.task||"",humanDateDue:b?Object(s.getHumanDateDue)(y,b.dateType,b.dateValue):"",isDeleting:i(n),isPastDateDue:x&&!v,isSynching:v}}))),Ar=Object(c.withDispatch)((function(e,t){var n=t.taskId,r=t.completed,o=e("nelio-content/edit-post"),i=o.deleteEditorialTask,c=o.markTaskAsCompleted;return{toggleTaskCompletion:function(){return c(n,!r)},deleteTask:function(){return i(n)}}})),wr=Object(ze.compose)(kr,Ar)((function(e){var t,n=e.assignee,r=e.canCompleteTask,o=e.canDeleteTask,i=e.completed,c=e.color,a=e.deleteTask,s=e.description,l=e.humanDateDue,u=e.isDeleting,d=e.isPastDateDue,f=e.isSynching,p=e.taskId,b=e.toggleTaskCompletion;return Object(Vn.createElement)("div",{className:cr()((t={"nelio-content-editorial-task":!0},m()(t,"nelio-content-editorial-task--is-".concat(c),!0),m()(t,"nelio-content-editorial-task--is-task-".concat(p),!0),m()(t,"nelio-content-editorial-task--is-due",d),t))},Object(Vn.createElement)(Qn.CheckboxControl,{className:cr()({"nelio-content-editorial-task__control":!0,"nelio-content-editorial-task__control--is-completed":i}),label:s,onChange:b,checked:i,disabled:!r||u||f}),Object(Vn.createElement)("div",{className:cr()({"nelio-content-editorial-task__extra":!0,"nelio-content-editorial-task__extra--is-completed":i,"nelio-content-editorial-task__extra--is-deleting":u,"nelio-content-editorial-task__extra--is-due":d,"nelio-content-editorial-task__extra--is-synching":f})},f&&Object(dn._x)("Saving","text","nelio-content"),!f&&"".concat(n,"  ").concat(l),d&&Object(Vn.createElement)(Qn.Dashicon,{icon:"warning"})),Object(Vn.createElement)("div",{className:cr()({"nelio-content-editorial-task__delete":!0,"nelio-content-editorial-task__delete--is-deleting":u,"nelio-content-editorial-task__delete--is-synching":f})},Object(Vn.createElement)(lr.DeleteButton,{disabled:!o,isDeleting:u,onClick:a})))})),Pr=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPostId;return{tasks:(0,e("nelio-content/data").getTasksRelatedToPost)(t(),"id")}}))((function(e){var t=e.tasks;return Object(s.isEmpty)(t)?Object(Vn.createElement)("div",{className:"nelio-content-task-list nelio-content-task-list--is-empty"},Object(dn._x)("Keep track of the things that need to get done with tasks.","user","nelio-content")):Object(Vn.createElement)("div",{className:"nelio-content-task-list"},t.map((function(e){return Object(Vn.createElement)(wr,{key:e,taskId:e})})))})),Ir=(n(100),n(101),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPost,n=e("nelio-content/data").canCurrentUserCreateTasksRelatedToPost,r=t();return{canCreateTasks:n(r),post:r}}))),Cr=Object(c.withDispatch)((function(e,t){var n=t.canCreateTasks,r=t.post;if(n){var o=e("nelio-content/task-editor").openNewTaskEditor;return{createTask:function(){return o(r,{dateType:"publish"!==r.status?"predefined-offset":void 0,dateValue:"publish"!==r.status?"0":void 0})}}}})),Rr=Object(ze.compose)(Ir,Cr)((function(e){var t=e.canCreateTasks,n=e.createTask;return Object(Vn.createElement)("div",{className:"nelio-content-task-creator"},Object(Vn.createElement)(Qn.Button,{isSecondary:!0,disabled:!t,onClick:n},Object(dn._x)("Add Task","command","nelio-content")))})),Dr=Object(ze.compose)(Er,yr,vr("isRetrievingEditorialTasks"))((function(){return Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(Tr,null),Object(Vn.createElement)(Pr,null),Object(Vn.createElement)(Rr,null))})),Nr=(n(102),Object(c.withDispatch)((function(e){return{addImage:e("nelio-content/edit-post").editExternalFeaturedImage}}))((function(e){var t=e.addImage;return Object(Vn.createElement)("div",{className:"nelio-content-efi-no-image"},Object(Vn.createElement)(Qn.Button,{isLink:!0,onClick:t},Object(dn._x)("Set external featured image","command","nelio-content")))}))),Mr=(n(103),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getExternalFeaturedImageAltField,r=t.getExternalFeaturedImageUrlField;return{imageAlt:n(),imageUrl:r()}}))),Ur=Object(c.withDispatch)((function(e,t){var n=t.imageUrl,r=t.imageAlt,o=e("nelio-content/edit-post"),i=o.cancelEditionOfExternalFeaturedImage,c=o.setExternalFeaturedImageAltField,a=o.setExternalFeaturedImageUrlField,s=o.setExternalFeaturedImage;return{save:function(){return s(n,r)},cancel:function(){return i()},setImageAlt:c,setImageUrl:a,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),Object(wt.isURL)(n)&&s(n,r))}}})),Lr=Object(ze.compose)(Mr,Ur)((function(e){var t=e.cancel,n=e.imageAlt,r=e.imageUrl,o=e.onKeyDown,i=e.save,c=e.setImageAlt,a=e.setImageUrl;return Object(Vn.createElement)("div",{className:"nelio-content-efi-edit-image"},Object(Vn.createElement)(Qn.TextControl,{label:Object(dn._x)("Image URL","text","nelio-content"),placeholder:"https://",value:r,onChange:a,onKeyDown:o}),Object(Vn.createElement)(Qn.TextControl,{label:Object(dn._x)("Alt Text","text","nelio-content"),value:n,onChange:c,onKeyDown:o}),Object(Vn.createElement)("div",{className:"nelio-content-efi-edit-image__action"},Object(Vn.createElement)(Qn.Button,{isSecondary:!0,onClick:t},Object(dn._x)("Cancel","command","nelio-content"))," ",Object(Vn.createElement)(Qn.Button,{isSecondary:!0,onClick:i,disabled:!Object(wt.isURL)(r)},Object(dn._x)("Set Image","command","nelio-content"))))})),Fr=(n(104),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getExternalFeaturedImageAlt,r=t.getExternalFeaturedImageUrl;return{imageAlt:n(),imageUrl:r()}}))),Br=Object(c.withDispatch)((function(e){var t=e("nelio-content/edit-post");return{editImage:t.editExternalFeaturedImage,removeImage:t.removeExternalFeaturedImage}})),Gr=Object(ze.compose)(Fr,Br)((function(e){var t=e.editImage,n=e.imageUrl,r=e.imageAlt,o=e.removeImage;return Object(Vn.createElement)("div",{className:"nelio-content-efi-image"},Object(Vn.createElement)(Qn.Button,{className:"nelio-content-efi-image__image-button",onClick:t},Object(Vn.createElement)("img",{className:"nelio-content-efi-image__actual-image",src:n,alt:r})),Object(Vn.createElement)("div",{className:"nelio-content-efi-image__replace-button"},Object(Vn.createElement)(Qn.Button,{isSecondary:!0,onClick:t},Object(dn._x)("Replace Image","command","nelio-content"))),Object(Vn.createElement)("div",null,Object(Vn.createElement)(Qn.Button,{isLink:!0,isDestructive:!0,onClick:o},Object(dn._x)("Remove external featured image","command","nelio-content"))))})),Vr=Object(c.withSelect)((function(e){return{view:(0,e("nelio-content/edit-post").getExternalFeaturedImageView)()}}))((function(e){switch(e.view){case"no-image":return Object(Vn.createElement)(Nr,null);case"edit-image":return Object(Vn.createElement)(Lr,null);case"image":return Object(Vn.createElement)(Gr,null);default:return null}})),Qr=(n(105),Object(c.withSelect)((function(e,t){var n=t.userId;return{userName:((0,e("nelio-content/data").getAuthor)(n)||{}).name}}))((function(e){var t=e.isAuthor,n=e.remove,r=e.userId,o=e.userName;return Object(Vn.createElement)("div",{className:"nelio-content-notification-user"},Object(Vn.createElement)("div",{className:"nelio-content-notification-user__icon"},Object(Vn.createElement)(lr.AuthorIcon,{authorId:r})),Object(Vn.createElement)("div",{className:"nelio-content-notification-user__info"},Object(Vn.createElement)("div",{className:"nelio-content-notification-user__name"},o||Object(dn._x)("Unknown User","text","nelio-content")),Object(Vn.createElement)("div",{className:"nelio-content-notification-user__extra"},t&&Object(Vn.createElement)("span",{className:n?"nelio-content-notification-user__author nelio-content-notification-user__author--has-pipe":"nelio-content-notification-user__author"},Object(dn._x)("Author","text","nelio-content")),!!n&&Object(Vn.createElement)(Qn.Button,{className:"nelio-content-notification-user__remove-action",isDestructive:!0,isLink:!0,onClick:n},Object(dn._x)("Remove","command","nelio-content")))))}))),Kr=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getAuthorId,r=t.getFollowers,o=(0,t.shouldAuthorBeFollower)(),i=n(),c=r(),a=o||c.includes(i)?Object(f.uniq)([i].concat(u()(c))):c;return{authorId:i,followers:a,shouldAuthorBeFollower:o}})),qr=Object(c.withDispatch)((function(e,t){var n=t.followers,r=e("nelio-content/edit-post").setFollowers;return{addFollower:function(e){return r(Object(f.uniq)([].concat(u()(n),[e])))},removeFollower:function(e){return r(Object(f.without)(n,e))}}})),Yr=Object(ze.compose)(Kr,qr)((function(e){var t=e.addFollower,n=e.authorId,r=e.followers,o=e.removeFollower,i=e.shouldAuthorBeFollower;return Object(Vn.createElement)("div",{className:"nelio-content-notifications"},Object(Vn.createElement)("div",{className:"nelio-content-notifications__user-searcher"},Object(Vn.createElement)(lr.AuthorSearcher,{placeholder:Object(dn._x)("Select a user","user","nelio-content"),onChange:function(e){return t(e)}})),Object(Vn.createElement)("div",{className:"nelio-content-notifications__followers"},r.map((function(e){return Object(Vn.createElement)(Qr,{key:e,userId:e,isAuthor:e===n,remove:e===n&&i?void 0:function(){return o(e)}})}))))})),Hr=(n(106),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getEditingReference,r=t.isReferenceEditorVisible,o=t.isReferenceSaving,i=n()||{};return{attributes:i,error:Wr(i),isSaving:o(i.url),isVisible:r()}}))),$r=Object(c.withDispatch)((function(e){var t=e("nelio-content/edit-post"),n=t.closeReferenceEditor,r=t.saveAndCloseEditingReference;return{setAttributes:t.updateEditingReference,close:n,saveAndClose:r}})),zr=Object(ze.ifCondition)((function(e){return e.isVisible})),Wr=function(e){var t=e.email,n=e.twitter;return Object(s.isEmpty)(t)||Object(wt.isEmail)(t)?!!Object(s.isValidTwitterHandler)(n)&&Object(dn._x)("Please write a valid twitter handle","user","nelio-content"):Object(dn._x)("Please write a valid email address","user","nelio-content")},Xr=Object(ze.compose)(Hr,$r,zr)((function(e){var t=e.attributes,n=t.title,r=t.author,o=t.email,i=t.twitter,c=t.url,a=e.isSaving,s=e.close,l=e.error,u=e.saveAndClose,d=e.setAttributes;return Object(Vn.createElement)(Qn.Modal,{className:"nelio-content-reference-editor",title:Object(dn._x)("Edit Reference","text","nelio-content"),isDismissable:!1,isDismissible:!1,shouldCloseOnEsc:!a,shouldCloseOnClickOutside:!1,onRequestClose:s},Object(Vn.createElement)(Qn.TextControl,{value:n,onChange:function(e){return d({title:e})},placeholder:Object(dn._x)("Enter the title","user","nelio-content")}),Object(Vn.createElement)("div",{className:"nelio-content-reference-editor__url"},Object(Vn.createElement)("strong",null,"URL:")," ",Object(Vn.createElement)(Qn.ExternalLink,{href:c})),Object(Vn.createElement)("h3",{className:"nelio-content-reference-editor__section-title"},Object(dn._x)("Author Information","text","nelio-content")),Object(Vn.createElement)(Qn.TextControl,{label:Object(dn._x)("Name","text","nelio-content"),value:r,onChange:function(e){return d({author:e})},placeholder:Object(dn._x)("First and Last Names","text","nelio-content")}),Object(Vn.createElement)(Qn.TextControl,{label:Object(dn._x)("Email","text","nelio-content"),value:o,onChange:function(e){return d({email:e})},placeholder:Object(dn._x)("author@example.com","text","nelio-content")}),Object(Vn.createElement)(Qn.TextControl,{label:Object(dn._x)("Twitter","text","nelio-content"),value:i,onChange:function(e){return d({twitter:e})},placeholder:Object(dn._x)("@username","text","nelio-content")}),Object(Vn.createElement)("div",{className:"nelio-content-reference-editor__actions"},Object(Vn.createElement)(Qn.Button,{isSecondary:!0,disabled:a,onClick:s},Object(dn._x)("Cancel","command","nelio-content")),Object(Vn.createElement)(lr.SaveButton,{isPrimary:!0,error:l,isSaving:a,onClick:u})))})),Jr=(n(107),function(e){var t=e.label,n=e.isActive,r=e.onClick;return Object(Vn.createElement)(Qn.Button,{className:cr()({"nelio-content-references-type-selector__tab":!0,"nelio-content-references-type-selector__tab--is-active":n}),onClick:r},t)}),Zr=function(e){var t=e.type,n=e.setType;return Object(Vn.createElement)("div",{className:"nelio-content-references-type-selector"},Object(Vn.createElement)(Jr,{label:Object(dn._x)("Suggested","text (urls)","nelio-content"),isActive:"suggested"===t,onClick:function(){return n("suggested")}}),Object(Vn.createElement)(Jr,{label:Object(dn._x)("External","text (urls)","nelio-content"),isActive:"external"===t,onClick:function(){return n("external")}}))},eo=(n(108),function(e){var t=e.onClick;return Object(Vn.createElement)(lr.DeleteButton,{labels:{delete:Object(dn._x)("Discard","command","nelio-content"),deleting:Object(dn._x)("Discarding","text","nelio-content")},confirmationLabels:{title:Object(dn._x)("Discard Reference","text","nelio-content"),text:Object(dn._x)("Are you sure you want to discard this reference? This operation cant be undone.","user","nelio-content")},onClick:t})});function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ro=Object(c.withSelect)((function(e,t){var n=t.link,r=e("nelio-content/data"),o=r.getCurrentUserId,i=r.getAuthor,c=e("nelio-content/edit-post"),a=c.getReferenceByUrl,l=c.isReferenceLoading,u=a(n)||{},d=u.twitter,m=jr()(u,["twitter"]),f=i(m.suggestionAdvisorId)||{};return no(no({url:n},m),{},{twitter:!Object(s.isEmpty)(d)&&d.substr(1),areYouTheAdvisor:m.suggestionAdvisorId===o(),advisorName:f.name,isLoading:l(n)})})),oo=Object(c.withDispatch)((function(e,t){var n=t.link,r=e("nelio-content/edit-post"),o=r.openReferenceEditor,i=r.discardReference;return{edit:function(){return o(n)},discard:function(){return i(n)}}})),io=Object(ze.compose)(ro,oo)((function(e){var t=e.advisorName,n=e.areYouTheAdvisor,r=e.author,o=e.discard,i=e.edit,c=e.email,a=e.url,s=e.isLoading,l=e.isSuggested,u=e.title,d=e.twitter;return Object(Vn.createElement)("div",{className:"nelio-content-link-reference"},u?Object(Vn.createElement)("div",{className:"nelio-content-link-reference__title"},u):Object(Vn.createElement)("div",{className:"nelio-content-link-reference__title"},Object(Vn.createElement)(Qn.ExternalLink,{href:a},a)),!!u&&Object(Vn.createElement)("div",{className:"nelio-content-link-reference__link"},Object(Vn.createElement)(Qn.ExternalLink,{href:a},a)),Object(Vn.createElement)("div",{className:"nelio-content-link-reference__extra"},!!s&&Object(dn._x)("Loading","text","nelio-content"),!s&&Object(Vn.createElement)("div",{className:"nelio-content-link-reference__author"},r||Object(dn._x)("Unknown Author","text","nelio-content")),!s&&(!!c||!!d)&&Object(Vn.createElement)("div",{className:"nelio-content-link-reference__contact"},!!d&&Object(Vn.createElement)(Qn.ExternalLink,{href:"https://twitter.com/".concat(d)},Object(Vn.createElement)(Qn.Dashicon,{className:"nelio-content-link-reference__contact-icon",icon:"twitter"}))," ",!!c&&Object(Vn.createElement)(Qn.ExternalLink,{href:"mailto:".concat(c)},Object(Vn.createElement)(Qn.Dashicon,{className:"nelio-content-link-reference__contact-icon",icon:"email"})))),!!l&&!!t&&Object(Vn.createElement)("div",{className:"nelio-content-link-reference__advisor"},n?Object(dn._x)("Suggested by you","text","nelio-content"):Object(dn.sprintf)(Object(dn._x)("Suggested by %s","text","nelio-content"),t)),Object(Vn.createElement)("div",{className:"nelio-content-link-reference__actions"},!!s&&Object(dn.sprintf)("%s | %s",Object(dn._x)("Discard","command","nelio-content"),Object(dn._x)("Edit","command","nelio-content")),!s&&!!l&&Object(Vn.createElement)(eo,{onClick:o}),!s&&!!l&&" | ",!s&&Object(Vn.createElement)(Qn.Button,{isLink:!0,onClick:i},Object(dn._x)("Edit","command","nelio-content"))))})),co=Object(c.withSelect)((function(e,t){var n=t.type,r=e("nelio-content/edit-post"),o=r.getExternalReferences,i=r.getSuggestedReferences;return{links:"suggested"===n?i():o()}}))((function(e){var t=e.type,n=e.links;return Object(s.isEmpty)(n)?Object(Vn.createElement)("div",null,"suggested"===t?Object(dn._x)("Do you have an interesting or helpful link for the author? Save it here!","user","nelio-content"):Object(dn._x)("External references included in the content will automatically appear here.","user","nelio-content")):Object(Vn.createElement)("div",null,n.map((function(e){return Object(Vn.createElement)(io,{key:e,link:e,isSuggested:"suggested"===t})})))})),ao=(n(109),Object(c.withSelect)((function(e){var t=e("nelio-content/data").getCurrentUserId,n=e("nelio-content/edit-post"),r=n.getAuthorId,o=(0,n.getSuggestedReferenceUrl)();return{url:o,isUrlValid:!Object(s.isEmpty)(o)&&Object(wt.isURL)(o),isCurrentUserAuthor:t()===r()}}))),so=Object(c.withDispatch)((function(e,t){var n=t.url,r=e("nelio-content/edit-post"),o=r.setSuggestedReferenceUrl,i=r.suggestReference;return{onChange:o,suggest:function(){i(n),o("")}}})),lo=Object(ze.compose)(ao,so)((function(e){var t=e.isCurrentUserAuthor,n=e.isUrlValid,r=e.onChange,o=e.suggest,i=e.url;return Object(Vn.createElement)("div",{className:"nelio-content-reference-creator"},Object(Vn.createElement)(Qn.TextControl,{placeholder:Object(dn._x)("Enter a URL","user","nelio-content"),value:i,onChange:r,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),n&&o())}}),Object(Vn.createElement)(Qn.Button,{isSecondary:!0,disabled:!n,onClick:o},t?Object(dn._x)("Add","command","nelio-content"):Object(dn._x)("Suggest","command","nelio-content")))})),uo=Object(c.withSelect)((function(e){return{type:(0,e("nelio-content/edit-post").getReferencesActiveTab)()}})),mo=Object(c.withDispatch)((function(e){return{changeType:e("nelio-content/edit-post").setReferencesActiveTab}})),fo=Object(ze.compose)(uo,mo)((function(e){var t=e.type,n=e.changeType;return Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(Zr,{type:t,setType:function(e){return n(e)}}),Object(Vn.createElement)(co,{type:t}),"suggested"===t&&Object(Vn.createElement)(lo,{type:t}))})),po=(n(110),n(30)),bo=n.n(po);n(111);function go(e){switch(e){case"perfect":return bo()({mixedString:Object(dn.sprintf)(Object(dn._x)("The post looks %1$sawesome%2$s!","text","nelio-content"),"{{strong}}","{{/strong}}"),components:{strong:Object(Vn.createElement)("strong",null)}});case"good":return bo()({mixedString:Object(dn.sprintf)(Object(dn._x)("The post looks %1$sgood%2$s!","text","nelio-content"),"{{strong}}","{{/strong}}"),components:{strong:Object(Vn.createElement)("strong",null)}});case"improvable":return bo()({mixedString:Object(dn.sprintf)(Object(dn._x)("The post is %1$simprovable%2$s","text","nelio-content"),"{{strong}}","{{/strong}}"),components:{strong:Object(Vn.createElement)("strong",null)}});case"bad":return bo()({mixedString:Object(dn.sprintf)(Object(dn._x)("The post is %1$spoor%2$s","text","nelio-content"),"{{strong}}","{{/strong}}"),components:{strong:Object(Vn.createElement)("strong",null)}});default:return Object(dn._x)("Post cant be evaluated","text","nelio-content")}}var Oo=Object(c.withSelect)((function(e,t){var n=t.label,r=(0,e("nelio-content/edit-post").getOverallPostQualityStatus)();return{status:r,label:n||go(r)}}))((function(e){var t=e.onClick,n=e.status,r=e.label;return Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis-summary"},Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis-summary__icon-wrapper"},Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis-summary__icon nelio-content-quality-analysis-summary__icon--is-".concat(n)},"perfect"===n&&Object(Vn.createElement)(Qn.Dashicon,{icon:"awards"}),"good"===n&&Object(Vn.createElement)(Qn.Dashicon,{icon:"thumbs-up"}),"improvable"===n&&Object(Vn.createElement)(Qn.Dashicon,{icon:"admin-tools"}),"bad"===n&&Object(Vn.createElement)(Qn.Dashicon,{icon:"thumbs-down"}))),Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis-summary__explanation"},t?Object(Vn.createElement)(Qn.Button,{isLink:!0,onClick:t},Object(Vn.createElement)("span",null,r)):Object(Vn.createElement)("span",null,r)))})),jo=Object(c.withSelect)((function(e,t){var n=t.name,r=e("nelio-content/edit-post"),o=r.getQualityCheckStatus,i=r.getQualityCheckRationale;return{status:o(n),rationale:i(n)}}))((function(e){var t=e.icon,n=e.status,r=e.rationale;return Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis__quality-check"},Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis__quality-check-icon-wrapper"},Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis__quality-check-icon nelio-content-quality-analysis__quality-check-icon--is-".concat(n)},Object(Vn.createElement)(Qn.Dashicon,{icon:t}))),Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis__quality-check-rationale nelio-content-quality-analysis__quality-check-rationale--is-".concat(n)},r))})),ho=Object(c.withSelect)((function(e){return{qualityCheckTypes:(0,e("nelio-content/edit-post").getQualityCheckTypes)()}})),Eo=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.isQualityAnalysisFullyIntegrated,r=(0,t.isPanelOpen)("post-quality-analysis"),o=n();return{areDetailsVisible:!o||r,isFullyIntegrated:o}})),yo=Object(c.withDispatch)((function(e,t){var n=t.areDetailsVisible,r=e("nelio-content/edit-post").togglePanel;return{toggleDetailsVisibility:function(){return r("post-quality-analysis",!n)}}})),vo=Object(ze.compose)(ho,Eo,yo)((function(e){var t=e.isMetabox,n=e.isFullyIntegrated,r=e.qualityCheckTypes,o=e.toggleDetailsVisibility,i=e.areDetailsVisible;return Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis"},!!t&&Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis__summary"},Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis__actual-summary"},Object(Vn.createElement)(Oo,null)),n&&Object(Vn.createElement)(Qn.Button,{className:"nelio-content-quality-analysis__details-toggler",isSmall:!0,onClick:o},Object(Vn.createElement)(Qn.Dashicon,{icon:i?"arrow-up":"arrow-down"}))),i&&Object(Vn.createElement)("div",{className:"nelio-content-quality-analysis__details"},r.map((function(e){var t=e.name,n=e.icon;return Object(Vn.createElement)(jo,{key:t,name:t,icon:n})}))))})),xo=(n(112),function(e){var t=e.children,n=e.icon,r=e.title,o=e.titleActions,i=e.type;return Object(Vn.createElement)("div",{className:"nelio-content-social-media-metabox__section"},Object(Vn.createElement)("div",{className:"nelio-content-social-media-metabox__section-title"},Object(Vn.createElement)(Qn.Dashicon,{icon:n}),r,!!o&&o),Object(Vn.createElement)("div",{className:"nelio-content-social-media-metabox__section-content nelio-content-social-media-metabox__section-content--is-".concat(i)},t))}),_o=Object(c.withSelect)((function(e){var t=e("nelio-content/data").isAnalyticsEnabled,n=(0,e("nelio-content/edit-post").getPost)()||{};return{isAnalyticsEnabled:t(),isPostPublished:"publish"===n.status,postId:n.id}})),So=Object(ze.ifCondition)((function(e){var t=e.isAnalyticsEnabled,n=e.isPostPublished;return t&&n})),To=Object(ze.compose)(_o,So)((function(e){var t=e.postId;return Object(Vn.createElement)(xo,{icon:"chart-bar",title:Object(dn._x)("Analytics","text","nelio-content"),type:"analytics"},Object(Vn.createElement)(lr.PostPageviewsAnalytics,{postId:t}),Object(Vn.createElement)(lr.PostEngagementAnalytics,{postId:t}))})),ko=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getPost,r=t.isClearingTimeline,o=t.isTimelineBusy,i=e("nelio-content/data").canCurrentUserUseAutomationsInPost;return{canClearTimeline:!o()&&i(n()),isClearingTimeline:r()}})),Ao=Object(c.withDispatch)((function(e){return{clearTimeline:e("nelio-content/edit-post").clearTimeline}})),wo=Object(ze.compose)(ko,Ao)((function(e){var t=e.clearTimeline,n=e.isClearingTimeline,r=e.isSmall,o=e.canClearTimeline;return Object(Vn.createElement)(lr.DeleteButton,{isSmall:r,disabled:!o,onClick:t,isDeleting:n,labels:{delete:Object(dn._x)("Clear Timeline","command","nelio-content"),deleting:Object(dn._x)("Clearing Timeline","text","nelio-content")},confirmationLabels:{title:Object(dn._x)("Clear Timeline","text","nelio-content"),text:Object(dn._x)("Are you sure you want to clear your timeline? This operation cant be undone and youll lose any manual messages you might have created.","user","nelio-content")}})})),Po=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getPost,r=t.isGeneratingTimeline,o=t.isTimelineBusy,i=e("nelio-content/data").canCurrentUserUseAutomationsInPost;return{isGeneratingTimeline:r(),canUseAutomations:!o()&&i(n())}})),Io=Object(c.withDispatch)((function(e){return{savePostAndGenerateTimeline:e("nelio-content/edit-post").savePostAndGenerateTimeline}})),Co=Object(ze.ifCondition)((function(e){return e.enabled})),Ro=Object(ze.compose)(Po,Io,Co)((function(e){var t=e.canUseAutomations,n=e.isGeneratingTimeline,r=e.savePostAndGenerateTimeline;return Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(Qn.Button,{isSmall:!0,isSecondary:!0,isBusy:n,disabled:!t,onClick:r},n?Object(dn._x)("Generating Timeline","text","nelio-content"):Object(dn._x)("Regenerate Timeline","command","nelio-content")),Object(Vn.createElement)(wo,{isSmall:!0}))})),Do=(n(113),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getPost,r=t.isGeneratingTimeline,o=t.isTimelineBusy,i=e("nelio-content/data"),c=i.canCurrentUserCreateMessagesRelatedToPost,a=i.canCurrentUserUseAutomationsInPost,l=i.getSocialMessagesRelatedToPost,u=n()||{},d=u.status,m=l(u.id).filter((function(e){return"publish"!==e.status})),f=!o()&&c(u),p=!o()&&a(u);if(!Object(s.isEmpty)(m))return{canCreateMessages:f,canUseAutomations:p,isBusy:r(),label:r()?Object(dn._x)("Generating Timeline","text","nelio-content"):Object(dn._x)("Regenerate Timeline","command","nelio-content")};if("publish"===d)return{canCreateMessages:f,canUseAutomations:p,isBusy:r(),label:r()?Object(dn._x)("Filling Timeline","text","nelio-content"):Object(dn._x)("Fill Timeline","command","nelio-content")};var b=e("nelio-content/edit-post").isAutoShareEnabled;return b()?{canCreateMessages:f,canUseAutomations:p,isBusy:r(),label:r()?Object(dn._x)("Loading Timeline","text","nelio-content"):Object(dn._x)("Customize Timeline","command","nelio-content")}:{canCreateMessages:f,canUseAutomations:p,isBusy:r(),label:b()?Object(dn._x)("Generating Timeline","text","nelio-content"):Object(dn._x)("Generate Timeline","command","nelio-content")}}))),No=Object(c.withDispatch)((function(e,t,n){var r=n.select,o=e("nelio-content/edit-post").savePostAndGenerateTimeline,i=e("nelio-content/social-message-editor").openNewSocialMessageEditor;return{addSocialMessage:function(){var e=r("nelio-content/data").getProfilesWithMessagesRelatedToPost,t=(0,r("nelio-content/edit-post").getPost)(),n=e(t.id);i(t,{},n)},savePostAndGenerateTimeline:o}})),Mo=Object(ze.compose)(Do,No,hr)((function(e){var t=e.addSocialMessage,n=e.canCreateMessages,r=e.canUseAutomations,o=e.isBusy,i=e.label,c=e.savePostAndGenerateTimeline;return Object(Vn.createElement)("div",{className:"nelio-content-generate-timeline-button"},Object(Vn.createElement)("div",{className:"nelio-content-generate-timeline-button__timeline-button"},Object(Vn.createElement)(Qn.Button,{isPrimary:!0,isBusy:o,disabled:!r,onClick:c},i)),Object(Vn.createElement)("div",{className:"nelio-content-generate-timeline-button__single-button"},Object(Vn.createElement)(Qn.Button,{isLink:!0,disabled:!n,onClick:t},Object(dn._x)("Add Social Message","command","nelio-content"))))})),Uo=(n(114),function(e,t){switch(e){case"day":return t<1;case"next-day":return 1<=t&&t<2;case"week":return 2<=t&&t<7;case"month":return 7<=t&&t<28;default:return 28<=t}}),Lo=(n(115),Object(c.withSelect)((function(e,t){var n=t.message,r=e("nelio-content/edit-post").isTimelineBusy,o=e("nelio-content/data"),i=o.canCurrentUserDeleteSocialMessage,c=o.canCurrentUserEditSocialMessage;return{canEditMessage:!r()&&c(n),canDeleteMessage:!r()&&i(n)}}))),Fo=Object(c.withDispatch)((function(e,t,n){var r=t.message,o=n.select,i=e("nelio-content/social-message-editor").openSocialMessageEditor,c=e("nelio-content/edit-post").deleteSocialMessage;return{editMessage:function(){var e=o("nelio-content/edit-post").getPost;i(e(),r,{showRelatedPost:!1})},deleteMessage:function(){return c(r.id)}}})),Bo=Object(ze.compose)(Lo,Fo)((function(e){var t=e.canDeleteMessage,n=e.canEditMessage,r=e.deleteMessage,o=e.editMessage,i=e.isBeingDeleted,c=e.message.status;return Object(Vn.createElement)("div",{className:cr()({"nelio-content-social-message__actions":!0,"nelio-content-social-message__actions--is-deleting":i})},!i&&Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(Qn.Button,{isLink:!0,disabled:!n,onClick:o},["error","publish"].includes(c)?Object(dn._x)("View","command","nelio-content"):Object(dn._x)("Edit","command","nelio-content")),Object(Vn.createElement)("span",null,"|")),Object(Vn.createElement)(lr.DeleteButton,{isDeleting:i,onClick:r,disabled:!t}))})),Go=Object(c.withSelect)((function(e,t){var n=t.text,r=e("nelio-content/edit-post").getPost;return{textComputed:Object(s.computeSocialMessageText)(r(),n)}}))((function(e){var t=e.isIndented,n=e.textComputed;return Object(Vn.createElement)("div",{className:cr()({"nelio-content-social-message__content-wrapper":!0,"nelio-content-social-message__content-wrapper--is-indented":t})},Object(Vn.createElement)(lr.SocialMessageTextPreview,{className:"nelio-content-social-message__actual-content",placeholder:"",linkBeautifier:function(e){if(-1===(e=e.replace(/^https?:\/\//i,"")).indexOf("/"))return e;var t=e.replace(/^[^/]*\//,"");if(t.length<=10)return e;var n=e.replace(/\/.*$/,"");return"".concat(n,"/").concat(t.substr(0,9),"")},value:n}))})),Vo=Object(c.withSelect)((function(e,t){var n=e("nelio-content/edit-post").getStatus,r=t.dateType,o=t.schedule;if("publish"===n()||"exact"===r)return{date:Object(ur.dateI18n)(Object(ur.__experimentalGetSettings)().formats.datetime,o)};var i=t.dateValue,c=t.timeType,a=t.timeValue;if("0"===i){if("exact"===c)return{date:a};if("0"===a)return{date:Object(dn._x)("Same time as publication","text","nelio-content")};var s=Math.abs(a);return{date:Object(dn.sprintf)(Object(dn._nx)("%d hour after publication","%d hours after publication",s,"text","nelio-content"),s)}}var l=Math.abs(i);return{date:Object(dn.sprintf)(Object(dn._nx)("%1$d day after publication at %2$s","%1$d days after publication at %2$s",l,"text","nelio-content"),l,a)}}))((function(e){var t=e.date,n=e.isBeingDeleted,r=e.isIndented,o=e.source;return Object(Vn.createElement)("div",{className:cr()({"nelio-content-social-message__date":!0,"nelio-content-social-message__date--is-indented":r,"nelio-content-social-message__date--is-deleting":n})},"reshare-template"===o&&Object(Vn.createElement)(Qn.Dashicon,{icon:"share-alt"}),"publication-template"===o&&Object(Vn.createElement)(Qn.Dashicon,{icon:"megaphone"}),"user-highlight"===o&&Object(Vn.createElement)(Qn.Dashicon,{icon:"editor-quote"}),"auto-extracted-sentence"===o&&Object(Vn.createElement)(Qn.Dashicon,{icon:"format-status"}),t)})),Qo=Object(c.withSelect)((function(e,t){var n=t.profileId,r=t.targetName,o=((0,e("nelio-content/data").getSocialProfile)(n)||{}).displayName||Object(dn._x)("Unknown","text","nelio-content");if(!r)return{text:Object(Vn.createElement)("strong",null,o)};var i=((0,e("nelio-content/data").getProfileTarget)(n,r)||{}).displayName;return Object(s.isEmpty)(i)?{text:Object(Vn.createElement)("strong",null,o)}:{text:bo()({mixedString:Object(dn.sprintf)(Object(dn._x)("%1$s on %2$s","text","nelio-content"),"{{strong}}".concat(o,"{{/strong}}"),"{{em}}".concat(i,"{{/em}}")),components:{strong:Object(Vn.createElement)("strong",null),em:Object(Vn.createElement)("em",null)}})}}))((function(e){var t=e.text;return Object(Vn.createElement)("div",{className:"nelio-content-social-message__location"},t)})),Ko=Object(c.withSelect)((function(e,t){var n=t.messageId,r=e("nelio-content/data").getSocialMessage,o=e("nelio-content/edit-post"),i=o.isClearingTimeline,c=o.isSocialMessageBeingDeleted;return{attributes:r(n)||{},isBeingDeleted:i()||c(n)}}))((function(e){var t=e.attributes,n=e.isBeingDeleted,r=e.isInMetabox,o=t.auto,i=t.dateType,c=t.dateValue,a=t.id,s=t.isFreePreview,l=t.network,u=t.profileId,d=t.schedule,m=t.source,f=t.status,p=t.targetName,b=t.text,g=t.timeType,O=t.timeValue,j=t.type,h="error"===f;return Object(Vn.createElement)("div",{className:cr()({"nelio-content-social-message":!0,"nelio-content-social-message--is-auto":!!o,"nelio-content-social-message--is-error":h,"nelio-content-social-message--is-free-preview":s}),"data-social-message-id":a,"data-upgrade-to-unlock":s?Object(dn._x)("Upgrade to Unlock","user","nelio-content"):void 0},"image"===j&&Object(Vn.createElement)(Qn.Dashicon,{className:"nelio-content-social-message__image-type-icon",icon:"format-image"}),Object(Vn.createElement)("div",{className:"nelio-content-social-message__profile-and-location"},Object(Vn.createElement)(lr.SocialProfileIcon,{className:"nelio-content-social-message__profile-icon",profileId:u}),Object(Vn.createElement)(Qo,{network:l,profileId:u,targetName:p})),Object(Vn.createElement)(Go,{isIndented:r,isBeingDeleted:n,text:b}),Object(Vn.createElement)(Vo,{isIndented:r,isBeingDeleted:n,dateType:i,dateValue:c,schedule:d,timeType:g,timeValue:O,source:m}),Object(Vn.createElement)(Bo,{isBeingDeleted:n,message:t}))})),qo=Object(c.withSelect)((function(e,t){var n=t.period,r=e("nelio-content/data"),o=r.getAdminUrl,i=r.isSubscribed,c=e("nelio-content/edit-post").isPostReady,a=o("admin.php",{page:"nelio-content-account"});if(!c())return{accountUrl:a,isSubscribed:i(),messageIds:[]};var s=(0,e("nelio-content/edit-post").getPost)(),l=e("nelio-content/data").getSocialMessagesRelatedToPost,u=Object(f.filter)(l(s.id),(function(e){return e&&"publish"!==e.status})),d=e("nelio-content/data").getUtcNow,m="publish"===s.status?function(e,t){return function(n){var r=n.schedule,o=Math.abs(t.diff(r,"days"));return Uo(e,o)}}(n,sr()(d())):function(e){return function(t){var n=t.dateType,r=t.dateValue;if("exact"===n)return"other"===e;var o=Math.abs(r);return Uo(e,o)}}(n),p=e("nelio-content/edit-post").isTimelineBusy,b=e("nelio-content/data").canCurrentUserCreateMessagesRelatedToPost;return{accountUrl:a,canCreateMessages:!p()&&b(s),isSubscribed:i(),messageIds:Object(f.map)(Object(f.filter)(u,m),"id")}})),Yo=Object(c.withDispatch)((function(e,t,n){var r=t.period,o=n.select,i=e("nelio-content/social-message-editor").openNewSocialMessageEditor;return{addSocialMessage:function(){var e=o("nelio-content/data").getProfilesWithMessagesRelatedToPost,t=(0,o("nelio-content/edit-post").getPost)(),n=function(e){switch(e){case"day":return{dateType:"predefined-offset",dateValue:"0"};case"next-day":return{dateType:"predefined-offset",dateValue:"1",timeType:"time-interval",timeValue:"morning"};case"week":return{dateType:"predefined-offset",dateValue:"7",timeType:"time-interval",timeValue:"morning"};case"month":return{dateType:"predefined-offset",dateValue:"28",timeType:"time-interval",timeValue:"morning"};default:return{dateType:"exact",timeType:"time-interval",timeValue:"morning"}}}(r),c=e(t.id);i(t,n,c)}}})),Ho=Object(ze.compose)(qo,Yo)((function(e){var t=e.accountUrl,n=e.addSocialMessage,r=e.canCreateMessages,o=e.isInMetabox,i=e.isSubscribed,c=e.messageIds,a=e.period;return Object(Vn.createElement)("div",{className:cr()({"nelio-content-social-media-timeline-period__period-content":!0,"nelio-content-social-media-timeline-period__period-content--is-metabox":o})},!Object(s.isEmpty)(c)&&Object(Vn.createElement)("div",{className:"nelio-content-social-media-timeline-period__messages"},c.map((function(e){return Object(Vn.createElement)(Ko,{key:e,messageId:e,isInMetabox:o})}))),Object(Vn.createElement)("div",{className:"nelio-content-social-media-timeline-period__add-button-wrapper"},i||"day"===a?Object(Vn.createElement)(Qn.Button,{className:cr()({"nelio-content-social-media-timeline-period__add-button":!0,"nelio-content-social-media-timeline-period__add-button--is-large":o&&Object(s.isEmpty)(c)}),isSecondary:!0,isSmall:!o||!Object(s.isEmpty)(c),onClick:n,disabled:!r},Object(dn._x)("Add Social Message","command","nelio-content")):Object(Vn.createElement)(Qn.ExternalLink,{href:t},Object(dn._x)("Upgrade to Premium","command","nelio-content"))))})),$o=Object(c.withSelect)((function(e,t){var n=t.period,r=((0,e("nelio-content/edit-post").getPost)()||{}).status;switch(n){case"day":return{title:"publish"===r?Object(dn._x)("Today","text","nelio-content"):Object(dn._x)("Publication Day","text","nelio-content")};case"next-day":return{title:"publish"===r?Object(dn._x)("Tomorrow","text","nelio-content"):Object(dn._x)("Next Day","text","nelio-content")};case"week":return{title:Object(dn._x)("Week","text","nelio-content")};case"month":return{title:Object(dn._x)("Month","text","nelio-content")};case"other":return{title:Object(dn._x)("Other","text","nelio-content")}}})),zo=Object(c.withSelect)((function(e,t){var n=t.period;return{isPanelOpen:(0,e("nelio-content/edit-post").isPanelOpen)("social-timeline-".concat(n))}})),Wo=Object(c.withDispatch)((function(e,t){var n=t.isPanelOpen,r=t.period,o=e("nelio-content/edit-post").togglePanel;return{togglePanel:function(){return o("social-timeline-".concat(r),!n)}}})),Xo=Object(ze.compose)($o,zo,Wo)((function(e){var t=e.isInMetabox,n=e.isPanelOpen,r=e.period,o=e.title,i=e.togglePanel;return t?Object(Vn.createElement)("div",{className:"nelio-content-social-media-timeline-period"},Object(Vn.createElement)("div",{className:"nelio-content-social-media-timeline-period__title"},o),Object(Vn.createElement)(Ho,{period:r,isInMetabox:!0})):Object(Vn.createElement)(Qn.PanelBody,{initialOpen:n,opened:n,onToggle:i,title:o},Object(Vn.createElement)(Ho,{period:r}))})),Jo=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPostId,n=e("nelio-content/data"),r=n.getSocialProfileCount,o=(0,n.getSocialMessagesRelatedToPost)(t());return{hasProfiles:0<r(),hasUnpublishedMessages:!!Object(f.find)(o,(function(e){return"publish"!==e.status}))}}))((function(e){var t=e.hasProfiles,n=e.hasUnpublishedMessages;return Object(Vn.createElement)(xo,{icon:"share",title:Object(dn._x)("Social Timeline","text","nelio-content"),titleActions:Object(Vn.createElement)(Ro,{enabled:t&&n}),type:"timeline"},n?Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(Xo,{isInMetabox:!0,period:"day"}),Object(Vn.createElement)(Xo,{isInMetabox:!0,period:"next-day"}),Object(Vn.createElement)(Xo,{isInMetabox:!0,period:"week"}),Object(Vn.createElement)(Xo,{isInMetabox:!0,period:"month"}),Object(Vn.createElement)(Xo,{isInMetabox:!0,period:"other"})):Object(Vn.createElement)(Mo,null))})),Zo=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.getPost,r=t.isAutoShareEnabled,o=t.isTimelineBusy,i=e("nelio-content/data").canCurrentUserUseAutomationsInPost;return{isAutoShareEnabled:r(),canUseAutomations:!o()&&i(n())}})),ei=Object(c.withDispatch)((function(e,t){var n=t.isAutoShareEnabled,r=e("nelio-content/edit-post").enableAutoShare;return{onChange:function(){return r(!n)}}})),ti=Object(ze.compose)(Zo,ei)((function(e){var t=e.canUseAutomations,n=e.isAutoShareEnabled,r=e.onChange;return Object(Vn.createElement)(Qn.CheckboxControl,{disabled:!t,label:Object(dn._x)("Auto share on social media","command","nelio-content"),checked:n,onChange:r})})),ni=function(){return Object(Vn.createElement)(xo,{icon:"admin-settings",title:Object(dn._x)("Social Settings","text","nelio-content"),type:"settings"},Object(Vn.createElement)(ti,null))},ri=Object(ze.compose)(yr,vr("isRetrievingSocialMessages"))((function(){return Object(Vn.createElement)(Qn.SlotFillProvider,null,Object(Vn.createElement)("div",{className:"nelio-content-social-media-metabox"},Object(Vn.createElement)(To,null),Object(Vn.createElement)(Jo,null),Object(Vn.createElement)(ni,null)),Object(Vn.createElement)(Qn.Popover.Slot,null))})),oi=(n(116),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPost,n=e("nelio-content/data").getSocialMessagesRelatedToPost,r=t()||{},o=r.status,i=n(r.id);if("publish"===o&&Object(s.isEmpty)(i))return{label:Object(dn._x)("Share on social media","command","nelio-content")};if(Object(s.isEmpty)(i))return{label:(0,e("nelio-content/edit-post").isAutoShareEnabled)()?Object(dn._x)("Customize social messages","command","nelio-content"):Object(dn._x)("Share on social media","command","nelio-content")};var c=i.filter((function(e){return"publish"!==e.status})).length;return{label:Object(dn.sprintf)(Object(dn._nx)("%d social message ready","%d social messages ready",c,"text","nelio-content"),c)}}))),ii=Object(c.withDispatch)((function(e){var t=e("core/edit-post").openGeneralSidebar;return{onClick:function(){return t("nelio-content/nelio-content-social-sidebar")}}})),ci=Object(ze.compose)(oi,ii)((function(e){var t=e.label,n=e.onClick;return Object(Vn.createElement)("div",{className:"nelio-content-social-media-publish-summary"},Object(Vn.createElement)("div",{className:"nelio-content-social-media-publish-summary__icon"},Object(Vn.createElement)(Qn.Dashicon,{icon:"share"})),Object(Vn.createElement)("div",{className:"nelio-content-social-media-publish-summary__button"},Object(Vn.createElement)(Qn.Button,{isLink:!0,onClick:n},t)))})),ai=(n(117),function(){return Object(Vn.createElement)(Qn.PanelBody,{className:"nelio-content-social-media-sidebar-main-panel"},Object(Vn.createElement)(Qn.PanelRow,{className:"nelio-content-social-media-sidebar-main-panel__buttons"},Object(Vn.createElement)(Mo,null)),Object(Vn.createElement)(Qn.PanelRow,null,Object(Vn.createElement)(ti,null)))}),si=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPostId,n=(0,e("nelio-content/data").getSocialMessagesRelatedToPost)(t());return{hasUnpublishedMessages:!!Object(f.find)(n,(function(e){return"publish"!==e.status}))}})),li=Object(ze.ifCondition)((function(e){return e.hasUnpublishedMessages})),ui=Object(ze.compose)(si,li)((function(){return Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(Xo,{period:"day"}),Object(Vn.createElement)(Xo,{period:"next-day"}),Object(Vn.createElement)(Xo,{period:"week"}),Object(Vn.createElement)(Xo,{period:"month"}),Object(Vn.createElement)(Xo,{period:"other"}))})),di=(n(118),Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post").getPostId,n=(0,e("nelio-content/data").getSocialMessagesRelatedToPost)(t());return{hasUnpublishedMessages:!!Object(f.find)(n,(function(e){return"publish"!==e.status}))}}))),mi=Object(ze.ifCondition)((function(e){return e.hasUnpublishedMessages})),fi=Object(ze.compose)(di,mi)((function(){return Object(Vn.createElement)(Qn.PanelBody,{className:"nelio-content-clear-timeline-panel"},Object(Vn.createElement)(wo,null))})),pi=Object(c.withSelect)((function(e){var t=e("nelio-content/edit-post"),n=t.isPostReady,r=t.isRetrievingSocialMessages;return{isPostReady:n(),isLoading:r()}}))((function(e){var t=e.isPostReady,n=e.isRetrievingSocialMessages;return t?n?Object(Vn.createElement)(Qn.PanelBody,null,Object(dn._x)("Loading","text","nelio-content")):Object(Vn.createElement)(Vn.Fragment,null,Object(Vn.createElement)(ai,null),Object(Vn.createElement)(ui,null),Object(Vn.createElement)(fi,null)):Object(Vn.createElement)(Qn.PanelBody,null,Object(dn._x)("Please save post first to access this feature.","user","nelio-content"))})),bi=(n(119),Object(c.withDispatch)((function(e){var t=e("core/edit-post").openGeneralSidebar;return{onClick:function(){return t("nelio-content/nelio-content-social-sidebar")}}}))),gi=Object(ze.compose)(bi,hr,yr)((function(e){var t=e.hasProfiles,n=e.settingsUrl,r=e.onClick;return Object(Vn.createElement)("div",{className:"nelio-content-social-media-tools"},Object(Vn.createElement)("p",null,Object(dn._x)("Nelio Content helps you share WordPress content on social media, so that you can reach a broader audience and engage with more people.","text","nelio-content")),Object(Vn.createElement)("div",{className:"nelio-content-social-media-tools__button-wrapper"},t?Object(Vn.createElement)(Qn.Button,{isSecondary:!0,onClick:r},Object(dn._x)("View Social Timeline","command","nelio-content")):Object(Vn.createElement)(Qn.ExternalLink,{className:"components-button is-secondary",href:n},Object(dn._x)("Connect Profiles","command","nelio-content"))))}));function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ji={},hi="nelio-content/edit-post";function Ei(e,t){if(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e,interval:500,settings:{}},t),"string"==typeof e)if(/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(e))if(Object(c.select)(hi).getQualityCheckType(e))console.error("Quality check ".concat(e," is already registered."));else if("icon"in t)if(Object(f.isFunction)(t.attributes)){if(Object(f.isFunction)(t.validate))return Object(c.dispatch)(hi).addQualityCheckType(t),function(e,t){t=Math.max(t,500);var n=Object(f.throttle)((function(){var t=(0,Object(c.select)(hi).getQualityCheckType)(e);if(t){var n,r=ji[e],o=r.prevAttributes,i=r.prevSettings,a=t.settings;try{n=t.attributes(c.select)}catch(e){return void console.error(e)}if(ji[e].prevAttributes=n,ji[e].prevSettings=a,!Object(f.isEqual)(o,n)||i!==a)try{var s=t.validate(n,a)||{},l=s.status,u=void 0===l?"unknown":l,d=s.text,m=void 0===d?Object(dn._x)("Unknown status","text","nelio-content"):d;(0,Object(c.dispatch)(hi).updateQualityCheckItem)(e,u,m)}catch(e){console.error(e)}}}),t);ji[e]={unsubscribe:Object(c.subscribe)(n),prevAttributes:{},prevSettings:{}},n()}(t.name,t.interval),t;console.error("The validate property must be a valid function.")}else console.error("The attributes property must be a valid function.");else console.error("Quality check ".concat(e," must have an icon."));else console.error("Quality check names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-quality-check");else console.error("Quality check names must be strings.")}function yi(e){!function(e){if(!ji[e])return;ji[e].unsubscribe(),delete ji[e]}(e),Object(c.dispatch)(hi).removeQualityCheckType(e)}function vi(e,t){Object(c.select)(hi).getQualityCheckType(e)&&Object(c.dispatch)(hi).updateQualityCheckSettings(e,t)}Ei("nelio-content/yoast-seo",{icon:"book",attributes:function(e){try{if(!(0,e("yoast-seo/editor").getFocusKeyphrase)())return{valid:!0,status:"unknown",text:Object(dn._x)("Yoast SEO score is not available","text","nelio-content")};var t=(0,e("yoast-seo/editor").getResultsForFocusKeyword)().overallScore;return t<40?{valid:!0,status:"bad",text:Object(dn._x)("Address your Yoast SEO score","user","nelio-content")}:t<70?{valid:!0,status:"improvable",text:Object(dn._x)("Improve Yoast SEO score","user","nelio-content")}:{valid:!0,status:"good",text:Object(dn._x)("Yoast SEO looks good","user","nelio-content")}}catch(e){return{valid:!1}}},validate:function(e){var t=e.status,n=e.text;return e.valid?{status:t,text:n}:{status:"unknown",text:Object(dn._x)("Unable to retrieve Yoast SEO score","text","nelio-content")}}}),Ei("nelio-content/yoast-content",{icon:"chart-bar",attributes:function(e){try{var t=(0,e("yoast-seo/editor").getReadabilityResults)().overallScore;return t<40?{valid:!0,status:"bad",text:Object(dn._x)("According to Yoast, content needs improvement","text","nelio-content")}:t<70?{valid:!0,status:"improvable",text:Object(dn._x)("According to Yoast, content is OK","text","nelio-content")}:{valid:!0,status:"good",text:Object(dn._x)("According to Yoast, content is good","text","nelio-content")}}catch(e){return{valid:!1}}},validate:function(e){var t=e.status,n=e.text;return e.valid?{status:t,text:n}:{status:"unknown",text:Object(dn._x)("Unable to retrieve Yoast Content Analysis","text","nelio-content")}}});var xi=n(31),_i=n.n(xi);function Si(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ti(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ei("nelio-content/social-messages",{icon:"share",settings:{isNoProfilesBad:!0,isAllProfilesEmptyBad:!0,isSomeProfilesEmptyBad:!1},attributes:function(e){var t=e("nelio-content/edit-post").getPostId,n=e("nelio-content/data"),r=n.getSocialMessagesRelatedToPost,o=n.getSocialProfiles;return{messages:r(t()),profiles:o()}},validate:function(e,t){var n=e.messages,r=e.profiles,o=t.isNoProfilesBad,i=t.isAllProfilesEmptyBad,c=t.isSomeProfilesEmptyBad;if(Object(s.isEmpty)(r))return{status:o?"bad":"improvable",text:Object(dn._x)("Connect one or more social profiles","user","nelio-content")};if(Object(s.isEmpty)(n))return{status:i?"bad":"improvable",text:Object(dn._x)("Schedule social messages on all profiles","user","nelio-content")};var a,l=Si(r);try{var u=function(){var e=a.value.id,t=n.filter((function(t){return t.profileId===e}));if(Object(s.isEmpty)(t))return{v:{status:c?"bad":"improvable",text:Object(dn._x)("Schedule social messages on all profiles","user","nelio-content")}}};for(l.s();!(a=l.n()).done;){var d=u();if("object"===_i()(d))return d.v}}catch(e){l.e(e)}finally{l.f()}return{status:"good",text:Object(dn._x)("Social messages look good","text","nelio-content")}}}),Ei("nelio-content/editorial-tasks",{icon:"flag",settings:{useBadStatus:!0},attributes:function(e){var t=e("nelio-content/edit-post").getPostId;return{tasks:(0,e("nelio-content/data").getTasksRelatedToPost)(t())}},validate:function(e,t){var n=e.tasks,r=t.useBadStatus,o=n.filter((function(e){return!e.completed}));return Object(s.isEmpty)(o)?{status:"good",text:Object(dn._x)("There are no pending tasks","text","nelio-content")}:{status:r?"bad":"improvable",text:Object(dn._x)("Complete all tasks","user","nelio-content")}}}),Ei("nelio-content/featured-image",{icon:"format-image",settings:{useBadStatus:!0,canImageBeAutoSet:!1},attributes:function(e){return{imageSrc:(0,e("nelio-content/edit-post").getFeaturedImageSrc)()}},validate:function(e,t){var n=e.imageSrc,r=t.canImageBeAutoSet,o=t.useBadStatus,i=!Object(s.isEmpty)(n);return r||i?{status:"good",text:i?Object(dn._x)("Theres a featured image","text","nelio-content"):Object(dn._x)("Automatic featured image","text","nelio-content")}:{status:o?"bad":"improvable",text:Object(dn._x)("Set a featured image","user","nelio-content")}}}),Ei("nelio-content/content-length",{icon:"edit",interval:2e3,settings:{improvableThreshold:700,goodThreshold:1e3},attributes:function(e){return{content:(0,e("nelio-content/edit-post").getContent)()}},validate:function(e,t){var n=e.content,r=t.improvableThreshold,o=t.goodThreshold,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=e.replace(/<[^>]*>/g,"")).replace(/\s+/g," ")).split(" ").length}(n);return i<r?{status:"bad",text:Object(dn._x)("Write a longer copy","user","nelio-content")}:i<o?{status:"improvable",text:Object(dn._x)("Write a longer copy","user","nelio-content")}:{status:"good",text:Object(dn._x)("Copy length looks good","text","nelio-content")}}}),Ei("nelio-content/internal-links",{icon:"admin-links",settings:{improvableThreshold:1,goodThreshold:2},attributes:function(e){return{content:(0,e("nelio-content/edit-post").getContent)()}},validate:function(e,t){var n=e.content,r=Object(s.getLinks)(n).filter(s.isInternalUrl),o=t.improvableThreshold,i=t.goodThreshold,c=i-r.length;return Object(s.isEmpty)(r)?{status:r.length<o?"bad":"improvable",text:Object(dn.sprintf)(Object(dn._nx)("Add %d link to your own site","Add %d links to your own site",c,"user","nelio-content"),c)}:r.length<i?{status:r.length<o?"bad":"improvable",text:Object(dn.sprintf)(Object(dn._nx)("Add %d more link to your own site","Add %d more links to your own site",c,"user","nelio-content"),c)}:{status:"good",text:Object(dn._x)("Links to your own site look good","text","nelio-content")}}}),Ei("nelio-content/external-links",{icon:"external",settings:{improvableThreshold:1,goodThreshold:2},attributes:function(e){return{content:(0,e("nelio-content/edit-post").getContent)()}},validate:function(e,t){var n=e.content,r=Object(s.getLinks)(n).filter(s.isExternalUrl),o=t.improvableThreshold,i=t.goodThreshold,c=i-r.length;return Object(s.isEmpty)(r)?{status:r.length<o?"bad":"improvable",text:Object(dn.sprintf)(Object(dn._nx)("Add %d link to an external source","Add %d links to external sources",c,"user","nelio-content"),c)}:r.length<i?{status:r.length<o?"bad":"improvable",text:Object(dn.sprintf)(Object(dn._nx)("Add %d more link to an external source","Add %d more links to external sources",c,"user","nelio-content"),c)}:{status:"good",text:Object(dn._x)("Links to external sources look good","text","nelio-content")}}}),Ei("nelio-content/content-images",{icon:"images-alt",settings:{improvableThreshold:1,goodThreshold:2},attributes:function(e){return{images:(0,e("nelio-content/edit-post").getImages)()}},validate:function(e,t){var n=e.images,r=t.improvableThreshold,o=t.goodThreshold,i=o-n.length;return Object(s.isEmpty)(n)?{status:n.length<r?"bad":"improvable",text:Object(dn.sprintf)(Object(dn._nx)("Add %d image in your copy","Add %d images in your copy",i,"user","nelio-content"),i)}:n.length<o?{status:n.length<r?"bad":"improvable",text:Object(dn.sprintf)(Object(dn._nx)("Add %d more image in your copy","Add %d more images in your copy",i,"user","nelio-content"),i)}:{status:"good",text:Object(dn._x)("Image count looks good","text","nelio-content")}}}),Ei("nelio-content/author",{icon:"admin-users",settings:{useBadStatus:!1},attributes:function(e){var t=e("nelio-content/edit-post").getAuthorId;return{isAdmin:((0,e("nelio-content/data").getAuthor)(t())||{}).isAdmin}},validate:function(e,t){var n=e.isAdmin,r=t.useBadStatus;return n?{status:r?"bad":"improvable",text:Object(dn._x)("Select a non-admin author","user","nelio-content")}:{status:"good",text:Object(dn._x)("Valid author","text","nelio-content")}}}),Ei("nelio-content/excerpt",{icon:"text",settings:{useBadStatus:!1},attributes:function(e){return{excerpt:(0,e("nelio-content/edit-post").getExcerpt)()}},validate:function(e,t){var n=e.excerpt,r=t.useBadStatus;return Object(s.isEmpty)(Object(f.trim)(n))?{status:r?"bad":"improvable",text:Object(dn._x)("Write an excerpt","user","nelio-content")}:{status:"good",text:Object(dn._x)("Excerpt looks good","text","nelio-content")}}}),Ei("nelio-content/tags",{icon:"tag",settings:{useBadStatus:!0},attributes:function(e){return{tags:(0,e("nelio-content/edit-post").getTags)()}},validate:function(e,t){var n=e.tags,r=t.useBadStatus;return Object(s.isEmpty)(n)?{status:r?"bad":"improvable",text:Object(dn._x)("Add one or more tags","user","nelio-content")}:{status:"good",text:Object(dn._x)("Content is properly tagged","text","nelio-content")}}})}]);